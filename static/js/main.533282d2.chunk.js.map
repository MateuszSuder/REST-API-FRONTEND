{"version":3,"sources":["services/fetcher.ts","services/categoryService.ts","services/orderService.ts","services/companySevice.ts","services/productService.ts","services/userService.ts","stores/UserStore.ts","stores/CartStore.ts","stores/RootStore.ts","context/context.tsx","views/Admin/AdminList.tsx","components/Header/Menu.tsx","components/Header/UserMenu.tsx","components/Header/CartMenu.tsx","components/Header/TopBar.tsx","views/Login/LoginView.tsx","views/Admin/AdminView.tsx","views/Register/AccountCreation.tsx","components/Admin/ItemHeader.tsx","components/Admin/ItemForm.tsx","components/Admin/ItemSubmit.tsx","components/Admin/Company.tsx","components/Admin/User.tsx","components/Admin/ItemSpecification.tsx","components/Admin/Product.tsx","views/Order/OrderSummary.tsx","components/Admin/Order.tsx","views/Admin/AdminItem.tsx","components/Product/ProductAddToCart.tsx","components/Product/ProductItem.tsx","components/Product/ProductList.tsx","views/Index/IndexView.tsx","views/Cart/CartView.tsx","views/Product/ProductView.tsx","views/User/UserDetailsView.tsx","views/Order/OrderDelivery.tsx","components/Snackbars.tsx","views/User/UserOrdersView.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["inputType","requestType","basePath","makeRequest","request","path","body","a","fetch","method","headers","mode","r","getCategories","GET","res","json","addProductsToCategory","category","productIDs","POST","JSON","stringify","ok","Error","text","OrderStatus","id","getCompanies","name","DELETE","getOrder","orderID","userID","status","placeOrder","input","q","quantityLowerThan","getProduct","createProduct","modifyProduct","getUsers","createUser","username","modifyUser","getUser","UserStore","user","makeAutoObservable","this","u","localStorage","setItem","setUser","undefined","removeItem","CartStore","s","store","items","price","amount","deliveryDetails","reaction","forEach","it","quantity","p","find","e","push","ind","indexOf","splice","d","productInput","map","productID","length","delivery","then","resetCart","RootStore","timeout","cart","snackbarMessages","msg","timestamp","Date","now","message","substr","some","m","i","setTimeout","removeMessage","RootStateContext","createContext","StateProvider","children","window","$state","Provider","value","useRootStore","useContext","useStyles","makeStyles","theme","createStyles","root","flexGrow","paper","padding","spacing","textAlign","color","palette","primary","g","marginTop","manage","light","fontSize","textDecoration","title","marginRight","link","dark","info","secondary","values","textTransform","buttonContainer","margin","button","cursor","AdminList","observer","useState","listType","setListType","list","setList","classes","rootStore","history","useHistory","translate","toTranslate","translation","useEffect","userLogged","permission","location","pathname","replace","getUsersMinified","data","catch","er","console","error","getOrdersMinified","getProductsMinified","Container","Grid","container","className","el","item","xs","Paper","Typography","Object","entries","toFixed","to","justify","style","StyledMenu","withStyles","border","props","Menu","elevation","getContentAnchorEl","anchorOrigin","vertical","horizontal","transformOrigin","StyledMenuItem","justifyContent","MenuItem","StyledMenuIcon","ListItemIcon","CategoryMenu","React","anchorEl","setAnchorEl","cat","setCat","handleClose","Button","aria-controls","aria-haspopup","variant","onClick","event","currentTarget","keepMounted","open","Boolean","onClose","categoryName","toLocaleLowerCase","ListItemText","height","paddingTop","paddingBottom","linkStyle","display","UserMenu","userStore","onMouseOver","htmlColor","onMouseLeave","logout","popover","pointerEvents","menu","menuContainer","width","CartMenu","handlePopoverClose","aria-owns","onMouseEnter","Popover","disableRestoreFocus","align","menuButton","toolbar","row","flexDirection","rowChildren","gap","TopBar","ThemeProvider","AppBar","position","Toolbar","component","Link","alignItems","avatar","backgroundColor","main","form","submit","LoginView","users","setUsers","fetchUsers","maxWidth","CssBaseline","Avatar","Box","minWidth","FormControl","fullWidth","InputLabel","Select","labelId","label","required","onChange","target","MenuProps","type","goBack","AdminView","usersNumber","setUsersNumber","companiesNumber","setCompaniesNumber","numberOfProducts","productsWithLowAmount","productsInfo","setProductsInfo","delivered","paymentDone","shipped","waitingForPayment","ordersInfo","setOrdersInfo","fields","icon","key","getUsersInfo","numberOfUsers","getCompaniesInfo","numberOfCompanies","getProductsInfo","getOrdersInfo","AccountCreation","setUsername","TextField","autoComplete","ItemHeader","adminItemStyles","query","URLSearchParams","useLocation","search","get","deleteUser","deleteProduct","deleteCompany","ItemForm","model","operation","create","modify","group","Fragment","subTitle","groupName","options","select","setValue","disabled","opt","ItemSubmit","Company","setValues","CompanyModel","v","getCompany","createCompany","modifyCompany","User","companyID","companyName","lastName","address","city","country","number","postcode","street","companies","setCompanies","companiesOptions","setCompaniesOptions","fetchCompanies","findCompanyID","n","c","UserModel","log","company","deliverDetails","opts","initCompaniesOptions","ItemSpecification","spec","handleAdd","val","add","Product","description","specification","setSpecification","categories","setCategories","SpecificationModel","index","temp","deleteValue","parseFloat","parseInt","onSubmit","filter","product","SummaryTitle","gutterBottom","SummaryItem","SummaryDelivery","Ttext","t","OrderSummary","order","o","setO","setPrice","useParams","Divider","Type","statusValues","Ordered","PaymentDone","Shipped","Delivered","statuses","Order","setOrder","setStatus","changeOrderStatus","delete","borderBottomStyle","borderBottomWidth","borderBottomColor","marginBottom","option","action","hover","borderTopStyle","borderTopWidth","borderTopColor","categoryTitle","AdminItem","setType","setOperation","adminType","ProductAddToCart","dis","prodClass","productStyle","textDecorationLine","borderBottom","ProductItem","pr","addToCart","slice","fontWeight","ProductList","products","setProducts","getProductsFromCategory","ps","getProducts","IndexView","cartStyles","summary","center","CartView","removeFromCart","grid","marginLeft","borderTop","ProductView","setProduct","setCategory","amountAvailable","setAmount","setQuantity","st","adjustQuantity","am","UserDetailsView","OrderDelivery","setDelivery","Alert","Snackbars","Snackbar","autoHideDuration","severity","orderListStyles","UserOrdersView","orders","setOrders","lClasses","getUserOrders","os","createMuiTheme","App","getItem","parse","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.533282d2.chunk.js","sourcesContent":["export enum inputType {\r\n\ttext,\r\n\tnumber,\r\n\tselect\r\n}\r\n\r\nexport enum requestType {\r\n\tGET = \"GET\",\r\n\tPOST = \"POST\",\r\n\tDELETE = \"DELETE\"\r\n}\r\n\r\n\r\nconst basePath = 'http://localhost:8080/';\r\n\r\nexport default async function makeRequest(request: requestType, path: string, body?: string) {\r\n\tconst r = await fetch(basePath + path, {\r\n\t\tmethod: request,\r\n\t\theaders: {\r\n\t\t\t'Content-Type': 'application/json'\r\n\t\t},\r\n\t\tmode: 'no-cors',\r\n\t\tbody: body\r\n\t})\r\n\r\n\treturn r;\r\n}\r\n","import makeRequest, { requestType } from \"./fetcher\";\r\nimport {ProductInfo} from \"./productService\";\r\n\r\n\r\nexport type Category = {\r\n\tcategoryName: string\r\n}\r\n\r\nexport async function getCategories(): Promise<Category[]> {\r\n\tlet res = await makeRequest(requestType.GET, \"api/category\") ;\r\n\treturn res.json();\r\n}\r\n\r\nexport async function addProductsToCategory(category: string, productIDs: Array<string>): Promise<Response> {\r\n\treturn await makeRequest(requestType.POST, `api/category/${category}/add`, JSON.stringify(productIDs));\r\n}\r\n\r\nexport async function getProductsFromCategory(category: string): Promise<ProductInfo[]> {\r\n\tconst res = await makeRequest(requestType.GET, `api/category/${category}`);\r\n\tif(res.ok) {\r\n\t\treturn await res.json();\r\n\t} else {\r\n\t\tthrow new Error(await res.text());\r\n\t}\r\n}","import makeRequest, { requestType } from \"./fetcher\";\r\nimport {Delivery, Item} from \"./userService\";\r\n\r\nexport interface OrderType {\r\n\tdelivery: Delivery;\r\n\tid:       string;\r\n\titems:    Item[];\r\n\tprice:    number;\r\n\tstatus:   Status[];\r\n\tuserID:   string;\r\n}\r\n\r\nexport interface OrdersInfo {\r\n\tdelivered: number,\r\n\tpaymentDone: number,\r\n\tshipped: number,\r\n\twaitingForPayment: number\r\n}\r\n\r\nexport interface OrderMinified {\r\n    id:         string;\r\n    lastStatus: string;\r\n    price:      number;\r\n}\r\n\r\nexport interface OrderProduct {\r\n\tproductID: string;\r\n\tquantity: number;\r\n}\r\n\r\nexport interface OrderInput {\r\n\tdelivery: Delivery;\r\n\titems: Array<OrderProduct>;\r\n\tuserID: string\r\n}\r\n\r\nexport interface Status {\r\n\tdate:   Date;\r\n\tstatus: OrderStatus;\r\n}\r\n\r\nexport enum OrderStatus {\r\n\tOrdered = \"Ordered\",\r\n\tPaymentDone = \"PaymentDone\",\r\n\tShipped = \"Shipped\",\r\n\tDelivered = \"Delivered\"\r\n}\r\n\r\n\r\nexport async function getOrdersInfo(): Promise<OrdersInfo>{\r\n\tlet res = await makeRequest(requestType.GET, \"api/order/info\") ;\r\n\treturn res.json();\r\n}\r\n\r\nexport async function getOrdersMinified(): Promise<OrderMinified[]>{\r\n\tlet res = await makeRequest(requestType.GET, \"api/order/v2\") ;\r\n\treturn res.json();\r\n}\r\n\r\nexport async function getOrder(orderID: string): Promise<OrderType> {\r\n\tlet res = await makeRequest(requestType.GET, `api/order/${orderID}`) ;\r\n\treturn res.json();\r\n}\r\n\r\nexport async function getUserOrders(userID: string): Promise<OrderType[]> {\r\n\tlet res = await makeRequest(requestType.GET, `api/user/${userID}/order`) ;\r\n\treturn res.json();\r\n}\r\n\r\nexport async function changeOrderStatus(orderID: string, status: OrderStatus){\r\n\tlet res = await makeRequest(requestType.POST, `api/order/${orderID}`, JSON.stringify({status: status})) ;\r\n\treturn res.json();\r\n}\r\n\r\nexport async function placeOrder(input: OrderInput){\r\n\tlet res = await makeRequest(requestType.POST, \"api/order\", JSON.stringify(input)) ;\r\n\treturn res.json();\r\n}","import makeRequest, {requestType} from \"./fetcher\";\r\n\r\nexport interface CompaniesInfo {\r\n\tnumberOfCompanies: number\r\n}\r\n\r\nexport interface CompanyInfo {\r\n    id:   string;\r\n    name: string;\r\n}\r\n\r\nexport async function getCompany(id: string): Promise<CompanyInfo> {\r\n\tlet res = await makeRequest(requestType.GET, `api/company/${id}`);\r\n\treturn res.json();\r\n}\r\n\r\nexport async function getCompanies(): Promise<CompanyInfo[]> {\r\n\tlet res = await makeRequest(requestType.GET, \"api/company\");\r\n\treturn res.json();\r\n}\r\n\r\nexport async function getCompaniesInfo(): Promise<CompaniesInfo> {\r\n\tlet res = await makeRequest(requestType.GET, \"api/company/info\") ;\r\n\treturn res.json();\r\n}\r\n\r\nexport async function createCompany(name: string) {\r\n\treturn await makeRequest(requestType.POST, 'api/company', JSON.stringify({name}));\r\n}\r\n\r\nexport async function modifyCompany(id: string, name: string) {\r\n\treturn await makeRequest(requestType.POST, `api/company/${id}`, JSON.stringify({name}));\r\n}\r\n\r\nexport async function deleteCompany(id: string) {\r\n\treturn await makeRequest(requestType.DELETE, `api/company/${id}`);\r\n}","import makeRequest, { requestType } from \"./fetcher\";\r\n\r\nexport interface Product {\r\n\tcategory?: string,\r\n\tproduct: ProductInfo\r\n}\r\n\r\nexport interface ProductsInfo {\r\n\tnumberOfProducts: number,\r\n\tproductsWithLowAmount: number\r\n}\r\n\r\nexport interface ProductInfo {\r\n    amount:        number;\r\n    description?:   string;\r\n    id?:            string;\r\n    name:          string;\r\n    price:         number;\r\n    specification?: Specification[];\r\n}\r\n\r\nexport interface Specification {\r\n    key: string;\r\n    val: string;\r\n}\r\n\r\nexport interface ProductMinified {\r\n    amount: number;\r\n    id:     string;\r\n    name:   string;\r\n    price:  number;\r\n}\r\n\r\nexport interface ProductQuantity {\r\n\tid: string;\r\n\tname: string;\r\n\tprice: number;\r\n\tquantity: number;\r\n}\r\n\r\nexport async function getProductsInfo(q: number): Promise<ProductsInfo>{\r\n\tlet res = await makeRequest(requestType.POST, \"api/product/info\", JSON.stringify({quantityLowerThan: q})) ;\r\n\treturn res.json();\r\n}\r\n\r\nexport async function getProducts(): Promise<ProductInfo[]>{\r\n\tlet res = await makeRequest(requestType.GET, \"api/product?limit=10\");\r\n\treturn res.json();\r\n}\r\n\r\nexport async function getProductsMinified(): Promise<ProductMinified[]>{\r\n\tlet res = await makeRequest(requestType.GET, \"api/product/v2/products\");\r\n\treturn res.json();\r\n}\r\n\r\nexport async function getProduct(id: string): Promise<Product>{\r\n\tlet res = await makeRequest(requestType.GET, `api/product/${id}`);\r\n\treturn res.json();\r\n}\r\n\r\nexport async function createProduct(input: ProductInfo): Promise<string> {\r\n\tconst res = await makeRequest(requestType.POST, \"api/product/\", JSON.stringify({...input}));\r\n\treturn await res.json();\r\n}\r\n\r\nexport async function modifyProduct(id: string, input: ProductInfo) {\r\n\treturn await makeRequest(requestType.POST, `api/product/${id}`, JSON.stringify({...input}));\r\n}\r\n\r\nexport async function deleteProduct(id: string) {\r\n\treturn await makeRequest(requestType.DELETE, `api/product/${id}`);\r\n}","import {CompanyInfo} from \"./companySevice\";\r\nimport makeRequest, {requestType} from \"./fetcher\";\r\nimport {ProductInfo} from \"./productService\";\r\nimport {OrderType} from \"./orderService\";\r\n\r\nexport interface UserModifyInput {\r\n    companyID?:      string;\r\n    deliveryDetails?: Delivery;\r\n    permission?:     'user' | 'admin';\r\n}\r\n\r\nexport interface User {\r\n    company:        CompanyInfo;\r\n    deliverDetails: Delivery;\r\n    id:             string;\r\n    orders:         OrderType[];\r\n    permission:     string;\r\n    username:       string;\r\n}\r\n\r\nexport interface Delivery {\r\n    address:  Address;\r\n    lastName: string;\r\n    name:     string;\r\n}\r\n\r\nexport interface Address {\r\n    city:     string;\r\n    country:  string;\r\n    number:   string;\r\n    postcode: string;\r\n    street:   string;\r\n}\r\n\r\nexport interface Item {\r\n    product:  ProductInfo;\r\n    quantity: number;\r\n}\r\n\r\nexport interface Specification {\r\n    key: string;\r\n    val: string;\r\n}\r\n\r\nexport interface UserInfo {\r\n\tnumberOfUsers: number\r\n}\r\n\r\n\r\nexport interface UserMinified {\r\n    companyName: string;\r\n    id:          string;\r\n    permission:  \"user\" | \"admin\";\r\n    username:    string;\r\n}\r\n\r\n\r\nexport async function getUsers(): Promise<User[]>{\r\n\tlet res = await makeRequest(requestType.GET, \"api/user\") ;\r\n\treturn res.json();\r\n}\r\n\r\nexport async function getUsersInfo(): Promise<UserInfo>{\r\n\tlet res = await makeRequest(requestType.GET, \"api/user/info\") ;\r\n\treturn res.json();\r\n}\r\n\r\nexport async function getUsersMinified(): Promise<UserMinified[]>{\r\n\tlet res = await makeRequest(requestType.GET, \"api/user/v2\") ;\r\n\treturn res.json();\r\n}\r\n\r\nexport async function createUser(username: string): Promise<string> {\r\n    let res = await makeRequest(requestType.POST, \"api/user\", JSON.stringify({username}));\r\n    return res.json();\r\n}\r\n\r\nexport async function modifyUser(userID: string, input: UserModifyInput) {\r\n    return await makeRequest(requestType.POST, `api/user/${userID}`, JSON.stringify({...input}));\r\n}\r\n\r\nexport async function getUser(userID: string): Promise<User> {\r\n    let res = await makeRequest(requestType.GET, `api/user/${userID}`) ;\r\n    return res.json();\r\n}\r\n\r\nexport async function deleteUser(userID: string) {\r\n    let res = await makeRequest(requestType.DELETE, `api/user/${userID}`) ;\r\n    return res.json();\r\n}","import { action, makeAutoObservable} from \"mobx\";\r\nimport { User } from \"../services/userService\";\r\n\r\nexport class UserStore {\r\n\r\n\tuser: User | undefined\r\n\r\n\tconstructor() {\r\n\t\tmakeAutoObservable(this);\r\n\t}\r\n\r\n\r\n\tsetUser(u: User | undefined) {\r\n\t\tthis.user = u;\r\n\t\tlocalStorage.setItem('user', JSON.stringify(this.user));\r\n\t}\r\n\r\n\tlogout() {\r\n\t\tthis.setUser(undefined);\r\n\t\tlocalStorage.removeItem('user');\r\n\t\tlocalStorage.removeItem('delivery');\r\n\t\tlocalStorage.removeItem('cart');\r\n\t}\r\n\r\n\tget userLogged(): boolean {\r\n\t\treturn this.user !== undefined;\r\n\t}\r\n}","import { makeAutoObservable, reaction} from \"mobx\";\r\nimport {ProductQuantity} from \"../services/productService\";\r\nimport {Delivery} from \"../services/userService\";\r\nimport {RootStore} from \"./RootStore\";\r\nimport {placeOrder} from \"../services/orderService\";\r\n\r\nexport class CartStore {\r\n\tstore: RootStore;\r\n\r\n\titems: ProductQuantity[] = [];\r\n\tprice: number = 0;\r\n\tamount: number = 0;\r\n\tdeliveryDetails: Delivery | undefined;\r\n\r\n\r\n\tconstructor(s: RootStore) {\r\n\t\tmakeAutoObservable(this);\r\n\r\n\t\tthis.store = s;\r\n\r\n\t\tconst r = reaction(\r\n\t\t\t() => this.amount,\r\n\t\t\t() => {\r\n\t\t\t\tthis.price = 0;\r\n\t\t\t\tthis.items.forEach(it => {\r\n\t\t\t\t\tthis.price += it.price * it.quantity;\r\n\t\t\t\t})\r\n\t\t\t\tlocalStorage.setItem('cart', JSON.stringify(this.items));\r\n\t\t\t}\r\n\t\t)\r\n\t}\r\n\r\n\tresetCart() {\r\n\t\tthis.items = [];\r\n\t\tthis.price = 0;\r\n\t\tthis.amount = 0;\r\n\t\tthis.deliveryDetails = undefined;\r\n\t}\r\n\r\n\taddToCart(it: ProductQuantity) {\r\n\t\tconst p = this.items.find(e => e.id === it.id);\r\n\t\tif(p) {\r\n\t\t\tif(p) {\r\n\t\t\t\tp.quantity += it.quantity;\r\n\t\t\t\tthis.amount += it.quantity;\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tthis.items.push(it);\r\n\t\t\tthis.amount += it.quantity;\r\n\t\t}\r\n\t}\r\n\r\n\tremoveFromCart(id: string) {\r\n\t\tconst p = this.items.find(e => e.id === id);\r\n\t\tif (!p) return;\r\n\t\tconst ind = this.items.indexOf(p);\r\n\t\tthis.amount -= p.quantity;\r\n\t\tthis.items.splice(ind, 1);\r\n\t}\r\n\r\n\tsetDelivery(d: Delivery) {\r\n\t\tthis.deliveryDetails = d;\r\n\t\tlocalStorage.setItem('delivery', JSON.stringify(this.deliveryDetails));\r\n\t}\r\n\r\n\tasync placeOrder() {\r\n\t\tif(!this.store.user.user || !this.store.user.user.id) {\r\n\t\t\tthrow new Error('User not logged in');\r\n\t\t}\r\n\r\n\t\tif(!this.deliveryDetails) {\r\n\t\t\tthrow new Error('Delivery details not found');\r\n\t\t}\r\n\r\n\t\tconst productInput = this.items.map(it => ({productID: it.id, quantity: it.quantity}))\r\n\r\n\t\tif(productInput.length === 0) {\r\n\t\t\tthrow new Error('No items found in cart');\r\n\t\t}\r\n\r\n\t\tconst input = {\r\n\t\t\tdelivery: this.deliveryDetails,\r\n\t\t\titems: productInput,\r\n\t\t\tuserID: this.store.user.user.id\r\n\t\t}\r\n\r\n\t\tplaceOrder(input).then(async r => {\r\n\t\t\tif(r.ok) {\r\n\t\t\t\treturn r\r\n\t\t\t}\r\n\t\t\tthrow r;\r\n\t\t})\r\n\r\n\t\tthis.resetCart();\r\n\t}\r\n}","import {action, makeAutoObservable, observable} from 'mobx';\r\nimport { UserStore } from './UserStore';\r\nimport {CartStore} from \"./CartStore\";\r\n\r\nexport class RootStore {\r\n\treadonly timeout = 3500;\r\n\tuser: UserStore;\r\n\tcart: CartStore;\r\n\r\n\tsnackbarMessages: Array<{ message: string, timestamp: number }> = [];\r\n\r\n\r\n\tconstructor() {\r\n\t\tthis.user = new UserStore();\r\n\t\tthis.cart = new CartStore(this);\r\n\r\n\t\tmakeAutoObservable(this);\r\n\t}\r\n\r\n\tpushMessage(msg: string) {\r\n\t\tconst timestamp = Date.now();\r\n\t\tconst message = msg.substr(0, 250) + (msg.length > 247 ? '...' : '');\r\n\r\n\t\tif (this.snackbarMessages.some((m) => m.message === message)) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tconst i = this.snackbarMessages.push({\r\n\t\t\tmessage,\r\n\t\t\ttimestamp\r\n\t\t});\r\n\r\n\t\tsetTimeout(() => {\r\n\t\t\t\tthis.removeMessage(i - 1);\r\n\t\t\t}, this.timeout + msg.length * 12.5);\r\n\t}\r\n\r\n\tremoveMessage(i: number) {\r\n\t\tthis.snackbarMessages.splice(i, 1)\r\n\t}\r\n}","import React, { createContext, useContext } from \"react\";\r\nimport { RootStore } from \"../stores/RootStore\";\r\n\r\n\r\nconst RootStateContext = createContext<RootStore>(new RootStore());\r\n\r\nexport const StateProvider: React.FC<React.PropsWithChildren<{}>> = ({ children }) => {\r\n\tlet store = new RootStore();\r\n\t// @ts-ignore\r\n\twindow.$state = store;\r\n\treturn <RootStateContext.Provider value = {store}>{ children }</RootStateContext.Provider>;\r\n}\r\n\r\nexport const useRootStore = () => useContext(RootStateContext);\r\n\r\n","import { Button, Container, createStyles, Grid, Icon, makeStyles, Paper, Theme, Typography } from '@material-ui/core';\r\nimport { observer } from 'mobx-react';\r\nimport { IReactComponent } from 'mobx-react/dist/types/IReactComponent';\r\nimport React, { useEffect, useState } from 'react';\r\nimport { Link, Route, Switch, useHistory, useLocation, useRouteMatch } from 'react-router-dom';\r\nimport { CompanyInfo, getCompanies } from '../../services/companySevice';\r\nimport { getOrdersMinified, OrderMinified } from '../../services/orderService';\r\nimport { getProductsMinified, ProductMinified } from '../../services/productService';\r\nimport { getUsersMinified, UserMinified } from '../../services/userService';\r\nimport * as translation from '../../translation.json';\r\nimport AddCircleIcon from '@material-ui/icons/AddCircle';\r\nimport { useRootStore } from '../../context/context';\r\n\r\nexport const useStyles = makeStyles((theme: Theme) =>\r\n  createStyles({\r\n    root: {\r\n      flexGrow: 1,\r\n    },\r\n    paper: {\r\n      padding: theme.spacing(2),\r\n      textAlign: 'left',\r\n      color: theme.palette.text.primary,\r\n    },\r\n\t\tg: {\r\n\t\t\tmarginTop: theme.spacing(2),\r\n\t\t},\r\n\t\tmanage: {\r\n\t\t\tcolor: theme.palette.primary.light,\r\n\t\t\tfontSize: \"0.8rem\",\r\n\t\t\ttextAlign: \"right\",\r\n\t\t\ttextDecoration: \"none\"\r\n\t\t},\r\n\t\ttitle: {\r\n\t\t\tmarginRight: theme.spacing(1),\r\n\t\t\tfontSize: \"1.2rem\"\r\n\t\t},\r\n\t\tlink: {\r\n\t\t\ttextDecoration: \"none\",\r\n\t\t\tcolor: theme.palette.primary.dark,\r\n\t\t\t\"&:visited\": {\r\n\t\t\t\ttextDecoration: \"none\",\r\n\t\t\t\tcolor: theme.palette.primary.dark\r\n\t\t\t}\r\n\t\t},\r\n\t\tinfo: {\r\n\t\t\tcolor: theme.palette.secondary.dark\r\n\t\t},\r\n\t\tvalues: {\r\n\t\t\t\"&:first-letter\": {\r\n\t\t\t\ttextTransform: \"capitalize\"\r\n\t\t\t}\r\n\t\t},\r\n    buttonContainer: {\r\n      margin: theme.spacing(3)\r\n    },\r\n    button: {\r\n      cursor: \"pointer\"\r\n    }\r\n  }),\r\n);\r\n\r\n\r\nexport const AdminList: IReactComponent = observer(() => {\r\n\tconst [listType, setListType] = useState(\"\");\r\n\tconst [list, setList] = useState<CompanyInfo[] | OrderMinified[] | UserMinified[] | ProductMinified[]>([{id: \"0\", name: \"\"}]);\r\n\r\n\tconst classes = useStyles();\r\n\tconst rootStore = useRootStore();\r\n\tlet history = useHistory();\r\n\r\n\tconst translate = (toTranslate: string): string => {\r\n\t\tif(toTranslate in translation.primary) {\r\n\t\t\t// @ts-ignore\r\n\t\t\treturn translation.primary[toTranslate];\r\n\t\t} else {\r\n\t\t\treturn toTranslate;\r\n\t\t}\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tif(!rootStore.user.userLogged || (rootStore.user.userLogged && rootStore.user.user && rootStore.user.user.permission !== 'admin')) {\r\n\t\t\thistory.push('/');\r\n\t\t} else {\r\n\t\t\tsetListType(\"\");\r\n\t\t\tsetListType(history.location.pathname.replace(\"/admin/\", \"\"));\r\n\t\t}\r\n\t}, [])\r\n\r\n\tuseEffect(() => {\r\n\t\tswitch(listType) {\r\n\t\t\tcase 'users': {\r\n\t\t\t\tgetUsersMinified().then(data => {\r\n\t\t\t\t\tsetList(data);\r\n\t\t\t\t})\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tcase 'companies': {\r\n\t\t\t\tgetCompanies().then(data => {\r\n\t\t\t\t\tsetList(data);\r\n\t\t\t\t}).catch(er => {\r\n\t\t\t\t\tconsole.error(er);\r\n\t\t\t\t})\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tcase 'orders': {\r\n\t\t\t\tgetOrdersMinified().then(data => {\r\n\t\t\t\t\tsetList(data);\r\n\t\t\t\t})\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tcase 'products': {\r\n\t\t\t\tgetProductsMinified().then(data => {\r\n\t\t\t\t\tsetList(data);\r\n\t\t\t\t})\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t}, [listType])\r\n\r\n\treturn(\r\n\t\t<>\r\n\t\t\t<Container>\r\n\t\t\t\t<Grid container spacing={3} className={classes.g}>\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tlist && list.map((el: CompanyInfo | OrderMinified | UserMinified | ProductMinified, i: number) => {\r\n\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t<Grid item xs={12} key={i}>\r\n\t\t\t\t\t\t\t\t\t<Paper className={classes.paper}>\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t<Typography className={classes.title}>{\"ID: \" + el.id}</Typography>\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\tObject.entries(el).map((e, i) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\tif(e[0] !== \"id\" && e[0] && e[1]) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Typography key={i} className={classes.values}>{translate(e[0]) + \": \" + (e[0] === \"price\" ? (e[1] / 100).toFixed(2) + \" zł\" : translate(e[1]))}</Typography>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t<Typography className={classes.manage}>\r\n\t\t\t\t\t\t\t\t\t\t\t<Link to={history.location.pathname + `/?id=${el.id}`} className={classes.link}>Zarządzaj...</Link>\r\n\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t</Paper>\r\n\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tlistType !== 'orders' &&\r\n\t\t\t\t\t\t<Grid container justify=\"flex-end\" className={classes.buttonContainer}>\r\n\t\t\t\t\t\t\t<Link to={history.location.pathname + '/'}>\r\n\t\t\t\t\t\t\t\t<AddCircleIcon color=\"primary\" style={{fontSize: \"40px\"}} className={classes.button} />\r\n\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t}\r\n\t\t\t\t</Grid>\r\n\t\t\t</Container>\r\n\t\t</>\r\n\t);\r\n})","import React, { useEffect, useState } from 'react';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport Button from '@material-ui/core/Button';\r\nimport Menu, { MenuProps } from '@material-ui/core/Menu';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport ArrowForwardIosIcon from '@material-ui/icons/ArrowForwardIos';\r\nimport { Category, getCategories } from '../../services/categoryService';\r\nimport {useHistory, Link} from \"react-router-dom\";\r\nimport {useStyles} from \"../../views/Admin/AdminList\";\r\n\r\n\r\nconst StyledMenu = withStyles({\r\n  paper: {\r\n    border: '1px solid #d3d4d5',\r\n  },\r\n})((props: MenuProps) => (\r\n  <Menu\r\n    elevation={0}\r\n    getContentAnchorEl={null}\r\n    anchorOrigin={{\r\n      vertical: 'bottom',\r\n      horizontal: 'left',\r\n    }}\r\n    transformOrigin={{\r\n      vertical: 'top',\r\n      horizontal: 'left',\r\n    }}\r\n    {...props}\r\n  />\r\n));\r\n\r\nconst StyledMenuItem = withStyles((theme) => ({\r\n  root: {\t\r\n\tjustifyContent: \"space-between\",\r\n  },\r\n}))(MenuItem);\r\n\r\nconst StyledMenuIcon = withStyles((theme) => ({\r\n\troot: {\r\n\t\tjustifyContent: \"flex-end\",\r\n\t},\r\n}))(ListItemIcon);\r\n\r\nexport const CategoryMenu = () => {\r\n  const [anchorEl, setAnchorEl] = React.useState<null | HTMLElement>(null);\r\n  const [cat, setCat] = useState<Category[]>();\r\n\r\n  const classes = useStyles();\r\n  let history = useHistory();\r\n\r\n  const handleClick = (event: React.MouseEvent<HTMLElement>) => {\r\n    setAnchorEl(event.currentTarget);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setAnchorEl(null);\r\n  };\r\n\r\n  React.useEffect(() => {\r\n    getCategories().then(res => {\r\n      setCat(res);\r\n    })\r\n  }, [])\r\n\r\n  const changeCategory = (e: string) => {\r\n    handleClose()\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <Button\r\n        aria-controls=\"customized-menu\"\r\n        aria-haspopup=\"true\"\r\n        variant=\"contained\"\r\n        color=\"primary\"\r\n        onClick={handleClick}\r\n      >\r\n        Kategorie\r\n      </Button>\r\n\t  \t\r\n      <StyledMenu\r\n        id=\"customized-menu\"\r\n        anchorEl={anchorEl}\r\n        keepMounted\r\n        open={Boolean(anchorEl)}\r\n        onClose={handleClose}\r\n      >\r\n\t\t{ cat &&\r\n\t\t  cat.map(el => (\r\n\t\t    <Link to={'/' + el.categoryName.toLocaleLowerCase()} onClick={handleClose} className={classes.link} key={el.categoryName}>\r\n          <StyledMenuItem value={el.categoryName}>\r\n            <ListItemText primary={el.categoryName} />\r\n            <StyledMenuIcon>\r\n              <ArrowForwardIosIcon fontSize=\"small\" />\r\n            </StyledMenuIcon>\r\n          </StyledMenuItem>\r\n        </Link>\r\n      ))\r\n\t\t}\r\n      </StyledMenu>\r\n    </div>\r\n  );\r\n}","import React, { useEffect } from 'react'\r\nimport AccountCircleRoundedIcon from '@material-ui/icons/AccountCircleRounded';\r\nimport { Container, ListItemText, Menu, MenuItem, MenuProps,  Typography,  withStyles } from '@material-ui/core';\r\nimport { useRootStore } from '../../context/context';\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst StyledMenu = withStyles({\r\n\tpaper: {\r\n\t  border: '1px solid #d3d4d5',\r\n\t},\r\n  })((props: MenuProps) => (\r\n\t<Menu\r\n\t  elevation={0}\r\n\t  getContentAnchorEl={null}\r\n\t  anchorOrigin={{\r\n\t\tvertical: 'bottom',\r\n\t\thorizontal: 'center',\r\n\t  }}\r\n\t  transformOrigin={{\r\n\t\tvertical: 'top',\r\n\t\thorizontal: 'center',\r\n\t  }}\r\n\t  {...props}\r\n\t/>\r\n  ));\r\n  \r\n  const StyledMenuItem = withStyles((theme) => ({\r\n\t\troot: {\r\n\t\t  justifyContent: \"space-between\",\r\n\t\t  height: \"24px\",\r\n\t\t  paddingTop: \"18px\",\r\n\t\t  paddingBottom: \"18px\",\r\n\t\t},\r\n  }))(MenuItem);\r\n\r\n  const linkStyle = {\r\n\t\ttextDecoration: 'none',\r\n\t\tdisplay: 'block',\r\n\t\tcolor: 'black',\r\n\t\t':visited': {\r\n\t\t\ttextDecoration: 'none',\r\n\t\t\tcolor: 'black'\r\n\t\t}\r\n  }\r\n\r\n  \r\n\r\nexport const UserMenu = () => {\r\n\tconst [anchorEl, setAnchorEl] = React.useState<null | HTMLDivElement>(null);\r\n\r\n\r\n\tconst open = Boolean(anchorEl);\r\n\tconst id = open ? 'spring-popper' : undefined;\r\n\r\n\tconst rootStore = useRootStore();\r\n\tconst userStore = rootStore.user;\r\n\r\n\tconst logout = () => {\r\n\t\tuserStore.logout();\r\n\t}\r\n\r\n\tconst handleClick = (event: React.MouseEvent<HTMLDivElement>) => {\r\n\t\tsetAnchorEl(anchorEl ? null : event.currentTarget);\r\n\t};\r\n\r\n\tconst handleClose = () => {\r\n\t\tsetAnchorEl(null);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<Container onMouseOver={handleClick} style={{cursor: \"pointer\", textAlign: \"center\"}}>\r\n\t\t\t\t<AccountCircleRoundedIcon htmlColor=\"white\" />\r\n\t\t\t\t<Typography>\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tuserStore.user &&\r\n\t\t\t\t\t\tuserStore.user.username\r\n\t\t\t\t\t}\r\n\t\t\t\t</Typography>\r\n\t\t\t</Container>\r\n\r\n\t\t\t<StyledMenu\r\n\t\t\t\tid=\"customized-menu\"\r\n\t\t\t\tanchorEl={anchorEl}\r\n\t\t\t\tkeepMounted\r\n\t\t\t\topen={Boolean(anchorEl)}\r\n\t\t\t\tonClose={handleClose}\r\n\t\t\t>\r\n\t\t\t\t<div onMouseLeave={handleClose}>\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tuserStore.user && userStore.user.permission === 'admin' &&\r\n\t\t\t\t\t\t<Link to=\"/admin\" style={linkStyle}>\r\n\t\t\t\t\t\t\t<StyledMenuItem>\r\n\t\t\t\t\t\t\t\t<ListItemText primary=\"Admin\" />\r\n\t\t\t\t\t\t\t</StyledMenuItem>\r\n\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t}\r\n\t\t\t\t\t<Link to={\"/user/\" + userStore.user?.id} style={linkStyle}>\r\n\t\t\t\t\t\t<StyledMenuItem>\r\n\t\t\t\t\t\t\t<ListItemText primary=\"Konto\" />\r\n\t\t\t\t\t\t</StyledMenuItem>\r\n\t\t\t\t\t</Link>\r\n\t\t\t\t\t<Link to={\"/user/\" + userStore.user?.id + \"/orders\"} style={linkStyle}>\r\n\t\t\t\t\t\t<StyledMenuItem>\r\n\t\t\t\t\t\t\t<ListItemText primary=\"Zamówienia\" />\r\n\t\t\t\t\t\t</StyledMenuItem>\r\n\t\t\t\t\t</Link>\r\n\t\t\t\t\t<Link to=\"/\" onClick={logout} style={linkStyle}>\r\n\t\t\t\t\t\t<StyledMenuItem>\r\n\t\t\t\t\t\t\t<ListItemText primary=\"Wyloguj\" />\r\n\t\t\t\t\t\t</StyledMenuItem>\r\n\t\t\t\t\t</Link>\r\n\t\t\t\t</div>\r\n\t\t\t</StyledMenu>\r\n\t\t</div>\r\n\t)\r\n}\r\n","import React from 'react'\r\nimport ShoppingCartIcon from '@material-ui/icons/ShoppingCart';\r\nimport {Container, createStyles, Grid, makeStyles, Popover, Theme, Typography} from '@material-ui/core';\r\nimport {useRootStore} from \"../../context/context\";\r\nimport {observer} from \"mobx-react\";\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst useStyles = makeStyles((theme: Theme) =>\r\n  createStyles({\r\n    popover: {\r\n      pointerEvents: 'none',\r\n    },\r\n    paper: {\r\n      padding: theme.spacing(1),\r\n    },\r\n\t  menu: {\r\n    \tcursor: \"pointer\",\r\n\t\t  textDecoration: \"none\",\r\n\t\t  color: \"white\",\r\n\t\t  \"&focus\": {\r\n\t\t\t  textDecoration: \"none\",\r\n\t\t  },\r\n\t  },\r\n\t  menuContainer: {\r\n    \twidth: \"25vw\"\r\n\t  },\r\n\t  item: {\r\n    \tpadding: theme.spacing(2)\r\n\t  }\r\n  }),\r\n);\r\n\r\nexport const CartMenu = observer(() => {\r\n\tconst classes = useStyles();\r\n\tconst [anchorEl, setAnchorEl] = React.useState<HTMLElement | null>(null);\r\n\r\n\tconst store = useRootStore();\r\n\r\n\tconst handlePopoverOpen = (event: React.MouseEvent<HTMLElement, MouseEvent>) => {\r\n\t  setAnchorEl(event.currentTarget);\r\n\t};\r\n  \r\n\tconst handlePopoverClose = () => {\r\n\t  setAnchorEl(null);\r\n\t};\r\n  \r\n\tconst open = Boolean(anchorEl);\r\n  \r\n\treturn (\r\n\t  <Link to=\"/cart\" className={classes.menu} style={{textAlign: \"center\"}}>\r\n\t\t\t<Container\r\n\t\t\t  aria-owns={open ? 'mouse-over-popover' : undefined}\r\n\t\t\t  aria-haspopup=\"true\"\r\n\t\t\t  onMouseEnter={handlePopoverOpen}\r\n\t\t\t  onMouseLeave={handlePopoverClose}\r\n\t\t\t>\r\n\t\t\t  <ShoppingCartIcon />\r\n\t\t\t  <Typography>\r\n\t\t\t\t  {\r\n\t\t\t\t\t  (store.cart.price / 100).toFixed(2) + \" zł\"\r\n\t\t\t    }\r\n\t\t\t  </Typography>\r\n\t\t\t</Container>\r\n\t\t\t<Popover\r\n\t\t\t  id=\"mouse-over-popover\"\r\n\t\t\t  className={classes.popover}\r\n\t\t\t  classes={{\r\n\t\t\t\t\tpaper: classes.paper,\r\n\t\t\t  }}\r\n\t\t\t  open={open}\r\n\t\t\t  anchorEl={anchorEl}\r\n\t\t\t  anchorOrigin={{\r\n\t\t\t\t\tvertical: 'bottom',\r\n\t\t\t\t\thorizontal: 'left',\r\n\t\t\t  }}\r\n\t\t\t  transformOrigin={{\r\n\t\t\t\t\tvertical: 'top',\r\n\t\t\t\t\thorizontal: 'left',\r\n\t\t\t  }}\r\n\t\t\t  onClose={handlePopoverClose}\r\n\t\t\t  disableRestoreFocus\r\n\t\t\t>\r\n\t\t\t\t{\r\n\t\t\t\t\tstore.cart.items.length > 0 &&\r\n\t\t\t\t\t<Grid container className={classes.menuContainer} spacing={2}>\r\n\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t<Typography align=\"center\" variant=\"h6\">\r\n\t\t\t\t\t\t\t\tKoszyk\r\n\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tstore.cart.items.map((item, i) => (\r\n\t\t\t\t\t\t\t\t\t<Grid container key={i} className={classes.item}>\r\n\t\t\t\t\t\t\t\t\t\t<Grid item xs={4}>\r\n\t\t\t\t\t\t\t\t\t\t\t<Typography  align=\"center\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\titem.name\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t\t<Grid item xs={4}>\r\n\t\t\t\t\t\t\t\t\t\t\t<Typography align=\"center\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\titem.quantity\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t\t<Grid item xs={4}>\r\n\t\t\t\t\t\t\t\t\t\t\t<Typography align=\"center\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t(item.price * item.quantity / 100).toFixed(2)\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t))\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t}\r\n\t\t\t\t{\r\n\t\t\t\t\tstore.cart.items.length === 0 &&\r\n\t        <Grid container>\r\n\t          <Grid item xs={12}>\r\n\t            <Typography align=\"center\">\r\n\t\t\t\t\t\t\t\tTwój koszyk jest pusty...\r\n\t            </Typography>\r\n\t          </Grid>\r\n\t        </Grid>\r\n\t\t\t\t}\r\n\t\t\t</Popover>\r\n\t  </Link>\r\n\t);\r\n})\r\n","import React, { FC, useEffect } from 'react'\r\nimport { AppBar, Button, Container, createStyles, makeStyles, ThemeProvider, Toolbar } from '@material-ui/core'\r\nimport { Theme } from '@material-ui/core';\r\nimport { props, theme } from '../../App';\r\nimport { CategoryMenu }  from './Menu';\r\nimport { Link } from \"react-router-dom\"\r\nimport { UserMenu } from './UserMenu';\r\nimport { CartMenu } from './CartMenu';\r\nimport { observer } from 'mobx-react';\r\nimport { IReactComponent } from 'mobx-react/dist/types/IReactComponent';\r\n\r\nconst useStyles = makeStyles((theme: Theme) =>\r\n  createStyles({\r\n    root: {\r\n      flexGrow: 1,\r\n    },\r\n    menuButton: {\r\n      marginRight: theme.spacing(2)\r\n    },\r\n\ttoolbar: {\r\n\t\tjustifyContent: \"space-between\",\r\n\t},\r\n\trow: {\r\n\t\tdisplay: \"flex\",\r\n\t\tflexDirection: \"row\",\r\n\t\tjustifyContent: \"flex-end\",\r\n\t},\r\n\trowChildren: {\r\n\t\tdisplay: \"flex\",\r\n\t\tgap: \"32px\",\r\n\t\tcolor: \"white\"\r\n\t}\r\n  }),\r\n);\r\n\r\nexport const TopBar: IReactComponent = observer(({store}: props) => {\r\n\tconst classes = useStyles();\r\n\r\n\treturn (\r\n\t\t<ThemeProvider theme={theme}>\r\n\t\t\t<AppBar position=\"sticky\">\r\n\t\t\t\t<Toolbar className={classes.toolbar}>\r\n\t\t\t\t\t<CategoryMenu />\r\n\t\t\t\t\t\t<div className={classes.row}>\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t!store.user.userLogged &&\r\n\t\t\t\t\t\t\t\t<Button color=\"inherit\" component={Link} to=\"/login\" style={{marginRight: 0}}>Login</Button>\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tstore.user.userLogged &&\r\n\t\t\t\t\t\t\t\t<div className={classes.rowChildren}>\r\n\t\t\t\t\t\t\t\t\t<UserMenu />\r\n\t\t\t\t\t\t\t\t\t<CartMenu />\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t</Toolbar>\r\n\t\t\t</AppBar>\r\n\t\t</ThemeProvider>\r\n\t)\r\n})\r\n","  \r\nimport React, { useEffect, useState } from 'react';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport Box from '@material-ui/core/Box';\r\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { makeStyles, ThemeProvider } from '@material-ui/core/styles';\r\nimport Container from '@material-ui/core/Container';\r\nimport { props, theme } from '../../App';\r\nimport { Button, FormControl, Grid, InputLabel, MenuItem, Select } from '@material-ui/core';\r\nimport { getUsers, User } from '../../services/userService';\r\nimport { Link, useHistory } from 'react-router-dom';\r\nimport { observer } from 'mobx-react';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  paper: {\r\n    marginTop: theme.spacing(32),\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n  },\r\n  avatar: {\r\n    margin: theme.spacing(4),\r\n    backgroundColor: theme.palette.primary.main,\r\n  },\r\n  form: {\r\n    width: '100%',\r\n    marginTop: theme.spacing(1),\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(4, 0, 2),\r\n  }\r\n}));\r\n\r\n\r\n\r\n\r\nexport const LoginView = observer(({store}: props) => {\r\n\tconst [users, setUsers] = useState<User[]>([]);\r\n\tconst [user, setUser] = useState<String>(\"\");\r\n\r\n\tlet history = useHistory();\r\n\r\n\tconst handleChange = (event: React.ChangeEvent<{ value: unknown }>) => {\r\n\t\tsetUser(event.target.value as String);\r\n\t};\r\n\r\n\tconst fetchUsers = async () => {\r\n\t\ttry {\r\n\t\t\tgetUsers().then(data => {\r\n\t\t\t\tsetUsers(data);\r\n\t\t\t}).catch(er => {\r\n\t\t\t\tconsole.error(er);\r\n\t\t\t})\r\n\t\t} catch(e) {\r\n\t\t\tconsole.error(e);\r\n\t\t}\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tfetchUsers();\r\n\t}, [])\r\n\r\n\tconst classes = useStyles();\r\n\r\n\tconst submit = () => {\r\n\t\tif(user === \"\") {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tconst u: User | undefined = users.find(el => el.id === user);\r\n\r\n\t\tif(u) {\r\n\t\t\tstore.user.setUser(u);\r\n\t\t}\r\n\t\t\r\n\t\thistory.goBack();\r\n\t}\r\n\r\n\treturn (\r\n\t\t<ThemeProvider theme={theme}>\r\n\t\t\t<Container component=\"main\" maxWidth=\"xs\">\r\n\t\t\t<CssBaseline />\r\n\t\t\t<div className={classes.paper}>\r\n\t\t\t\t<Avatar className={classes.avatar}>\r\n\t\t\t\t\t<LockOutlinedIcon />\r\n\t\t\t\t</Avatar>\r\n\t\t\t\t<Typography component=\"h1\" variant=\"h5\">\r\n\t\t\t\t\tZaloguj się\r\n\t\t\t\t</Typography>\r\n\t\t\t\t<Box style={{ minWidth: 360 }}>\r\n\t\t\t\t\t<FormControl fullWidth>\r\n\t\t\t\t\t\t<InputLabel id=\"demo-simple-select-label\">Nazwa użytkownika</InputLabel>\r\n\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\tlabelId=\"demo-simple-select-label\"\r\n\t\t\t\t\t\t\tid=\"demo-simple-select\"\r\n\t\t\t\t\t\t\tvalue={user}\r\n\t\t\t\t\t\t\tlabel=\"User\"\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\t\t\tMenuProps={{\r\n\t\t\t\t\t\t\t\tanchorOrigin: {\r\n\t\t\t\t\t\t\t\t  vertical: \"bottom\",\t\r\n\t\t\t\t\t\t\t\t  horizontal: \"left\"\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\ttransformOrigin: {\r\n\t\t\t\t\t\t\t\t  vertical: \"top\",\r\n\t\t\t\t\t\t\t\t  horizontal: \"left\"\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\tgetContentAnchorEl: null\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tusers && \r\n\t\t\t\t\t\t\t\tusers.length > 0 &&\r\n\t\t\t\t\t\t\t\tusers.map(el => <MenuItem key={el.id} value={el.id}>{el.username}</MenuItem>)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t<Button variant=\"contained\" color=\"primary\" className={classes.submit} type=\"submit\" onClick={submit}>\r\n\t\t\t\t\t\t\tZaloguj\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t<Grid container justify=\"flex-end\">\r\n\t\t\t\t\t\t\t<Grid item>\r\n\t\t\t\t\t\t\t\t<Link to=\"/register\">\r\n\t\t\t\t\t\t\t\tNie masz jeszcze konta? Zarejestruj się\r\n\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t</FormControl>\r\n\t\t\t\t</Box>\r\n\t\t\t</div>\r\n\t\t\t</Container>\r\n\t\t</ThemeProvider>\r\n\t);\r\n})\r\n","import { Container, createStyles, Grid, makeStyles, Paper, Theme, ThemeProvider, Typography, withStyles } from '@material-ui/core';\r\nimport React, { useEffect, useState } from 'react'\r\nimport { Link, Route, Switch, useHistory } from 'react-router-dom';\r\nimport { theme } from '../../App';\r\nimport { useRootStore } from '../../context/context';\r\nimport PeopleIcon from '@material-ui/icons/People';\r\nimport PersonIcon from '@material-ui/icons/Person';\r\nimport StoreIcon from '@material-ui/icons/Store';\r\nimport ReceiptIcon from '@material-ui/icons/Receipt';\r\nimport { getUsersInfo } from '../../services/userService';\r\nimport { getCompaniesInfo } from '../../services/companySevice';\r\nimport { getProductsInfo, ProductsInfo } from '../../services/productService';\r\nimport { getOrdersInfo, OrdersInfo } from '../../services/orderService';\r\nimport { AdminList } from './AdminList';\r\n\r\nconst useStyles = makeStyles((theme: Theme) =>\r\n  createStyles({\r\n    root: {\r\n      flexGrow: 1,\r\n    },\r\n    paper: {\r\n      padding: theme.spacing(2),\r\n      textAlign: 'left',\r\n      color: theme.palette.text.primary,\r\n    },\r\n\tg: {\r\n\t\tmarginTop: theme.spacing(2),\r\n\t},\r\n\tmanage: {\r\n\t\tcolor: theme.palette.primary.light,\r\n\t\tfontSize: \"0.8rem\",\r\n\t\ttextAlign: \"right\",\r\n\t\ttextDecoration: \"none\"\r\n\t},\r\n\ttitle: {\r\n\t\tmarginRight: theme.spacing(1),\r\n\t\tfontSize: \"1.2rem\"\r\n\t},\r\n\tlink: {\r\n\t\ttextDecoration: \"none\",\r\n\t\tcolor: theme.palette.primary.dark,\r\n\t\t\"&:visited\": {\r\n\t\t\ttextDecoration: \"none\",\r\n\t\t\tcolor: theme.palette.primary.dark\r\n\t\t}\r\n\t},\r\n\tinfo: {\r\n\t\tcolor: theme.palette.secondary.dark\r\n\t}\r\n  }),\r\n);\r\n\r\n\r\nexport const AdminView = () => {\r\n\tconst [usersNumber, setUsersNumber] = useState(0);\r\n\tconst [companiesNumber, setCompaniesNumber] = useState(0);\r\n\tconst [productsInfo, setProductsInfo] = useState<ProductsInfo>({numberOfProducts: 0, productsWithLowAmount: 0});\r\n\tconst [ordersInfo, setOrdersInfo] = useState<OrdersInfo>({delivered: 0, paymentDone: 0, shipped: 0, waitingForPayment: 0})\r\n\r\n\tconst productAmountCheck = 10;\r\n\r\n\tconst classes = useStyles();\r\n\r\n\tconst fields = [\r\n\t\t{\r\n\t\t\ttitle: \"Użytkownicy\",\r\n\t\t\ticon: <PersonIcon/>,\r\n\t\t\tpath: \"/admin/users\",\r\n\t\t\tinfo: [\r\n\t\t\t\t{\r\n\t\t\t\t\tkey: \"Liczba użytkowników\",\r\n\t\t\t\t\tvalue: usersNumber\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: \"Firmy\",\r\n\t\t\ticon: <PeopleIcon/>,\r\n\t\t\tpath: \"/admin/companies\",\r\n\t\t\tinfo: [\r\n\t\t\t\t{\r\n\t\t\t\t\tkey: \"Liczba firm\",\r\n\t\t\t\t\tvalue: companiesNumber\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: \"Produkty\",\r\n\t\t\ticon: <StoreIcon/>,\r\n\t\t\tpath: \"/admin/products\",\r\n\t\t\tinfo: [\r\n\t\t\t\t{\r\n\t\t\t\t\tkey: \"Liczba produktów\",\r\n\t\t\t\t\tvalue: productsInfo.numberOfProducts\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tkey: \"Liczba produktów z ilością mniejszą niż \" + productAmountCheck,\r\n\t\t\t\t\tvalue: productsInfo.productsWithLowAmount\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: \"Zamówienia\",\r\n\t\t\ticon: <ReceiptIcon/>,\r\n\t\t\tpath: \"/admin/orders\",\r\n\t\t\tinfo: [\r\n\t\t\t\t{\r\n\t\t\t\t\tkey: \"Zamówienia oczekujące na zatwierdzenia płatności\",\r\n\t\t\t\t\tvalue: ordersInfo.waitingForPayment\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tkey: \"Zamówienia opłacone\",\r\n\t\t\t\t\tvalue: ordersInfo.paymentDone\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tkey: \"Zamówienia wysłane\",\r\n\t\t\t\t\tvalue: ordersInfo.shipped\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tkey: \"Zamówienia dostarczone\",\r\n\t\t\t\t\tvalue: ordersInfo.delivered\r\n\t\t\t\t},\r\n\t\t\t]\r\n\t\t},\r\n\t]\r\n\r\n\tconst rootStore = useRootStore();\r\n\tlet history = useHistory();\r\n\r\n\tuseEffect(() => {\r\n\t\tif(!rootStore.user.userLogged || (rootStore.user.userLogged && rootStore.user.user && rootStore.user.user.permission !== 'admin')) {\r\n\t\t\thistory.push('/');\r\n\t\t} else {\r\n\t\t\tgetUsersInfo().then(res => {\r\n\t\t\t\tsetUsersNumber(res.numberOfUsers)\r\n\t\t\t});\r\n\t\t\tgetCompaniesInfo().then(res => {\r\n\t\t\t\tsetCompaniesNumber(res.numberOfCompanies)\r\n\t\t\t});\r\n\t\t\tgetProductsInfo(productAmountCheck).then(res => {\r\n\t\t\t\tsetProductsInfo(res)\r\n\t\t\t});\r\n\t\t\tgetOrdersInfo().then(res => {\r\n\t\t\t\tsetOrdersInfo(res)\r\n\t\t\t})\r\n\t\t}\r\n\t}, [])\r\n\r\n\treturn (\r\n\t\t<ThemeProvider theme={theme}>\r\n\t\t\t<Container>\r\n\t\t\t\t<Grid container spacing={3} className={classes.g}>\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tfields.map((el, i) => \r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\treturn(\r\n\t\t\t\t\t\t\t\t\t<Grid item xs={12} key={i}>\r\n\t\t\t\t\t\t\t\t\t\t<Paper className={classes.paper}>\r\n\t\t\t\t\t\t\t\t\t\t\t<Grid container spacing={3}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Grid item xs={8}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Typography className={classes.title}>{el.title}</Typography>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tel.icon\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Grid item xs={8}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tel.info && el.info.map((info, i) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Typography className={classes.info} key={i}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tinfo.key + \": \" + info.value\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t\t\t<Typography className={classes.manage}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Link to={el.path} className={classes.link}>Zarządzaj...</Link>\r\n\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t</Paper>\r\n\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t</Grid>\r\n\t\t\t</Container>\r\n\t\t</ThemeProvider>\r\n\t)\r\n}\r\n","import { Container, CssBaseline, Avatar, Typography, Grid, TextField, Button, makeStyles } from '@material-ui/core';\r\nimport React, { useState } from 'react'\r\nimport {Link, useHistory} from 'react-router-dom';\r\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\r\nimport {createUser} from \"../../services/userService\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\tpaper: {\r\n\t  marginTop: theme.spacing(32),\r\n\t  display: 'flex',\r\n\t  flexDirection: 'column',\r\n\t  alignItems: 'center',\r\n\t},\r\n\tavatar: {\r\n\t  margin: theme.spacing(4),\r\n\t  backgroundColor: theme.palette.primary.main,\r\n\t},\r\n\tform: {\r\n\t  width: '100%',\r\n\t  marginTop: theme.spacing(1),\r\n\t},\r\n\tsubmit: {\r\n\t  margin: theme.spacing(4, 0, 2),\r\n\t}\r\n  }));\r\n\r\nexport const AccountCreation = () => {\r\n\tconst [username, setUsername] = useState<string>(\"\");\r\n\tconst classes = useStyles();\r\n\r\n\tconst history = useHistory();\r\n\r\n\tconst handleChange = (event: React.ChangeEvent<{ value: unknown }>) => {\r\n\t\tsetUsername(event.target.value as string);\r\n\t};\r\n\r\n\tconst register = () => {\r\n\t\tcreateUser(username).then(r =>\r\n\t\t\thistory.push('/')\r\n\t\t);\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Container component=\"main\" maxWidth=\"xs\">\r\n\t\t\t<CssBaseline />\r\n\t\t\t<div className={classes.paper}>\r\n\t\t\t\t<Avatar className={classes.avatar}>\r\n\t\t\t\t\t<LockOutlinedIcon />\r\n\t\t\t\t</Avatar>\r\n\t\t\t\t<Typography component=\"h1\" variant=\"h5\">\r\n\t\t\t\t\tUtwórz konto\r\n\t\t\t\t</Typography>\r\n\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t<TextField\r\n\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\trequired\r\n\t\t\t\t\tfullWidth\r\n\t\t\t\t\tid=\"username\"\r\n\t\t\t\t\tlabel=\"Nazwa użytkownika\"\r\n\t\t\t\t\tname=\"username\"\r\n\t\t\t\t\tautoComplete=\"username\"\r\n\t\t\t\t\tvalue={username}\r\n\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t/>\r\n\t\t\t\t</Grid>\r\n\t\t\t\t<Button\r\n\t\t\t\t\ttype=\"submit\"\r\n\t\t\t\t\tfullWidth\r\n\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\tclassName={classes.submit}\r\n\t\t\t\t\tonClick={register}\r\n\t\t\t\t>\r\n\t\t\t\t\tUtwórz konto\r\n\t\t\t\t</Button>\r\n\t\t\t\t<Grid container justify=\"flex-end\">\r\n\t\t\t\t\t<Grid item>\r\n\t\t\t\t\t\t<Link to=\"/login\">\r\n\t\t\t\t\t\t\tMasz już konto? Zaloguj się\r\n\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</Grid>\r\n\t\t\t</div>\r\n\t\t</Container>\r\n\t);\r\n}\r\n","import {IReactComponent} from \"mobx-react/dist/types/IReactComponent\";\r\nimport {observer} from \"mobx-react\";\r\nimport {theme} from \"../../App\";\r\nimport {Grid, ThemeProvider, Typography} from \"@material-ui/core\";\r\nimport {useHistory, useLocation} from \"react-router-dom\";\r\nimport {adminItemStyles} from \"../../views/Admin/AdminItem\";\r\nimport {deleteUser} from \"../../services/userService\";\r\nimport {deleteProduct} from \"../../services/productService\";\r\nimport {deleteCompany} from \"../../services/companySevice\";\r\n\r\nfunction useQuery() {\r\n\treturn new URLSearchParams(useLocation().search);\r\n}\r\n\r\nexport const ItemHeader: IReactComponent = observer(({type}: {type: string}) => {\r\n\tconst classes = adminItemStyles();\r\n\tconst history = useHistory();\r\n\tlet query = useQuery();\r\n\r\n\r\n\tconst del = () => {\r\n\t\tconst id = query.get('id');\r\n\t\tswitch (type) {\r\n\t\t\tcase \"Użytkownik\": {\r\n\t\t\t\tif(id) {\r\n\t\t\t\t\tdeleteUser(id);\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tcase \"Produkt\": {\r\n\t\t\t\tif(id) {\r\n\t\t\t\t\tdeleteProduct(id);\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tcase \"Firma\": {\r\n\t\t\t\tif(id) {\r\n\t\t\t\t\tdeleteCompany(id)\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\thistory.goBack();\r\n\t}\r\n\r\n\treturn(\r\n\t\t<ThemeProvider theme={theme}>\r\n\t\t\t{\r\n\t\t\t\tquery.get('id') ?\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t\t<Grid item xs={6}>\r\n\t\t\t\t\t\t\t<Typography className={classes.title}>ID: {query.get('id')}</Typography>\r\n\t\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t\t<Grid item xs={6} className={classes.type}>\r\n\t\t\t\t\t\t\t<Typography className={classes.type}>{type}</Typography>\r\n\t\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t\t<Grid item xs={6}>\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\ttype !== \"Zamówienie\" &&\r\n\t\t\t\t\t\t\t\t<Typography color=\"error\" onClick={del} style={{cursor: \"pointer\"}}>Usuń...</Typography>\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t</>\r\n\t\t\t\t\t:\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t<Typography className={classes.type}>{type}</Typography>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t</>\r\n\t\t\t}\r\n\t\t</ThemeProvider>\r\n\t)\r\n})","import {IReactComponent} from \"mobx-react/dist/types/IReactComponent\";\r\nimport {observer} from \"mobx-react\";\r\nimport {theme} from \"../../App\";\r\nimport {Button, Grid, MenuItem, TextField, ThemeProvider, Typography} from \"@material-ui/core\";\r\nimport React from \"react\";\r\nimport {adminItemStyles, Model} from \"../../views/Admin/AdminItem\";\r\n\r\nexport const ItemForm: IReactComponent = observer(({model, operation}: {model: Model, operation: 'creating' | 'modifying'}) => {\r\n\tconst classes = adminItemStyles();\r\n\r\n\treturn(\r\n\t\t<ThemeProvider theme={theme}>\r\n\t\t\t{\r\n\t\t\t\t(operation === 'creating' ? model.create : model.modify).map((group, i) => (\r\n\t\t\t\t\t<React.Fragment key={i}>\r\n\t\t\t\t\t\t<Grid item xs={12} className={classes.subTitle}>\r\n\t\t\t\t\t\t\t<Typography>{group.groupName}</Typography>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tgroup.items.map((item, i) => (\r\n\t\t\t\t\t\t\t\t<Grid item xs={group.xs} key={i}>\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\titem.options &&\r\n                    <TextField\r\n                        select\r\n                        label={item.label}\r\n                        value={item.value}\r\n                        onChange={item.setValue}\r\n                        className={classes.input}\r\n                        disabled={item.disabled}\r\n                    >\r\n\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\titem.options.map((opt, i) => (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<MenuItem value={opt.value} key={i}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{opt.label}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</MenuItem>\r\n\t\t\t\t\t\t\t\t\t\t\t\t))\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n                    </TextField>\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t!item.options &&\r\n                    <TextField\r\n                        label={item.label}\r\n                        value={item.value}\r\n                        onChange={item.setValue}\r\n                        disabled={item.disabled}\r\n                        className={classes.input}\r\n\t\t\t\t\t\t\t\t\t\t\t\ttype={item.type ? \"number\" : \"text\"}\r\n                    />\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t))\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t</React.Fragment>\r\n\t\t\t\t))\r\n\t\t\t}\r\n\t\t</ThemeProvider>\r\n\t)\r\n})","import {IReactComponent} from \"mobx-react/dist/types/IReactComponent\";\r\nimport {observer} from \"mobx-react\";\r\nimport {theme} from \"../../App\";\r\nimport {Button, Grid, ThemeProvider} from \"@material-ui/core\";\r\nimport React from \"react\";\r\nimport {adminItemStyles} from \"../../views/Admin/AdminItem\";\r\n\r\nexport const ItemSubmit: IReactComponent = observer(({submit}: {submit: () => any}) => {\r\n\tconst classes = adminItemStyles();\r\n\treturn (\r\n\t\t<ThemeProvider theme={theme}>\r\n\t\t\t<Grid item xs={12} className={classes.submit}>\r\n\t\t\t\t<Button variant=\"contained\" color=\"primary\" onClick={() => submit()}>\r\n\t\t\t\t\tZapisz\r\n\t\t\t\t</Button>\r\n\t\t\t</Grid>\r\n\t\t</ThemeProvider>\r\n\t)\r\n});","import {IReactComponent} from \"mobx-react/dist/types/IReactComponent\";\r\nimport {observer} from \"mobx-react\";\r\nimport {theme} from \"../../App\";\r\nimport { ThemeProvider } from \"@material-ui/core\";\r\nimport {ItemHeader} from \"./ItemHeader\";\r\nimport {ItemForm} from \"./ItemForm\";\r\nimport React, {useEffect, useState} from \"react\";\r\nimport {CompanyInfo, createCompany, getCompany, modifyCompany} from \"../../services/companySevice\";\r\nimport {Model} from \"../../views/Admin/AdminItem\";\r\nimport {useHistory, useLocation} from \"react-router-dom\";\r\nimport {createUser, modifyUser} from \"../../services/userService\";\r\nimport {ItemSubmit} from \"./ItemSubmit\";\r\n\r\nfunction useQuery() {\r\n  return new URLSearchParams(useLocation().search);\r\n}\r\n\r\nexport const Company: IReactComponent = observer(({operation}: {operation: 'creating' | 'modifying'}) => {\r\n  const [values, setValues] = useState<CompanyInfo>({id: \"\", name: \"\"});\r\n\r\n  let history = useHistory();\r\n  let query = useQuery();\r\n\r\n  const CompanyModel: Model = {\r\n    create: [\r\n      {\r\n        groupName: \"Firma\",\r\n        xs: 12,\r\n        items: [\r\n          {\r\n            label: \"Nazwa firmy\",\r\n            value: values.name,\r\n            setValue: (v: React.ChangeEvent<HTMLInputElement>) => setValues({...values, 'name': v.target.value}),\r\n            required: true\r\n          }\r\n        ]\r\n      }\r\n    ],\r\n    modify: [\r\n      {\r\n        groupName: \"Firma\",\r\n        xs: 6,\r\n        items: [\r\n          {\r\n            label: \"ID firmy\",\r\n            value: values.id,\r\n            setValue: (v: React.ChangeEvent<HTMLInputElement>) => setValues({...values, 'id': v.target.value}),\r\n            disabled: true\r\n          },\r\n          {\r\n            label: \"Nazwa firmy\",\r\n            value: values.name,\r\n            setValue: (v: React.ChangeEvent<HTMLInputElement>) => setValues({...values, 'name': v.target.value}),\r\n            required: true\r\n          }\r\n        ]\r\n      }\r\n    ]\r\n  }\r\n\r\n  const onSubmit = () => {\r\n    if(!values.name || values.name === \"\") {\r\n      return;\r\n    }\r\n\r\n    if(operation === 'creating') {\r\n      createCompany(values.name);\r\n    }\r\n\r\n    if(operation === 'modifying') {\r\n      modifyCompany(values.id, values.name);\r\n    }\r\n\r\n    history.goBack();\r\n  }\r\n\r\n  useEffect(() => {\r\n    const id = query.get('id');\r\n    if (id) {\r\n      getCompany(id).then(r => setValues({...values, id: r.id, name: r.name}));\r\n    }\r\n  }, [])\r\n\r\n  return (\r\n    <ThemeProvider theme={theme}>\r\n      <ItemHeader type=\"Firma\" />\r\n      <ItemForm model={CompanyModel} operation={operation} />\r\n      <ItemSubmit submit={onSubmit} />\r\n    </ThemeProvider>\r\n  )\r\n});","import {IReactComponent} from \"mobx-react/dist/types/IReactComponent\";\r\nimport {observer} from \"mobx-react\";\r\nimport {theme} from \"../../App\";\r\nimport {ThemeProvider} from \"@material-ui/core\";\r\nimport { Model, ModelOption} from \"../../views/Admin/AdminItem\";\r\nimport {useEffect, useState} from \"react\";\r\nimport {CompanyInfo, getCompanies} from \"../../services/companySevice\";\r\nimport React from \"react\";\r\nimport {ItemForm} from \"./ItemForm\";\r\nimport {ItemHeader} from \"./ItemHeader\";\r\nimport {createUser, getUser, modifyUser} from \"../../services/userService\";\r\nimport {useHistory, useLocation} from \"react-router-dom\";\r\nimport {ItemSubmit} from \"./ItemSubmit\";\r\n\r\nfunction useQuery() {\r\n  return new URLSearchParams(useLocation().search);\r\n}\r\n\r\nexport const User: IReactComponent = observer(({operation}: {operation: 'creating' | 'modifying'}) => {\r\n  const [values, setValues] = useState({\r\n    userID: \"\", username: \"\", permission: \"user\",\r\n    companyID: \"\", companyName: \"\",\r\n    deliveryDetails: {\r\n      name: \"\", lastName: \"\",\r\n      address: {\r\n        city: \"\", country: \"\", number: \"\", postcode: \"\", street: \"\"\r\n      }\r\n    }\r\n  });\r\n  const [companies, setCompanies] = useState<Array<CompanyInfo>>();\r\n  const [companiesOptions, setCompaniesOptions] = useState([{label: '', value: ''}]);\r\n\r\n  let history = useHistory();\r\n  let query = useQuery();\r\n\r\n  const fetchCompanies = async () => {\r\n    const res = await getCompanies();\r\n    setCompanies(res);\r\n  }\r\n\r\n  const initCompaniesOptions = () => {\r\n\r\n    if(!companies) return;\r\n    const opts: Array<ModelOption> = companies.map(company => (\r\n      {\r\n        'label': company.name,\r\n        'value': company.name\r\n      }\r\n    ))\r\n\r\n    setCompaniesOptions(opts);\r\n  }\r\n\r\n  const findCompanyID = (n: string) => {\r\n    if(companies) {\r\n      const res = companies.find(c => c.name === n);\r\n      if(res) {\r\n        return res.id;\r\n      }\r\n    }\r\n\r\n    return \"\";\r\n  }\r\n\r\n  const UserModel: Model = {\r\n    create: [\r\n      {\r\n        groupName: \"Użytkownik\",\r\n        xs: 6,\r\n        items: [\r\n          {\r\n            label: \"Nazwa użytkownika\",\r\n            value: values.username,\r\n            setValue: (v: React.ChangeEvent<HTMLInputElement>) => setValues({...values, 'username': v.target.value})\r\n          }\r\n        ]\r\n      }\r\n    ],\r\n    modify: [\r\n      {\r\n        groupName: \"Użytkownik\",\r\n        xs: 6,\r\n        items: [\r\n          {\r\n            label: \"Nazwa użytkownika\",\r\n            value: values.username,\r\n            disabled: true\r\n          },\r\n          {\r\n            label: \"Prawa użytkownika\",\r\n            value: values.permission,\r\n            required: true,\r\n            setValue: (v: React.ChangeEvent<HTMLInputElement>) => setValues({...values, 'permission': v.target.value}),\r\n            options: [\r\n              {\r\n                label: \"Użytkownik\",\r\n                value: \"user\"\r\n              },\r\n              {\r\n                label: \"Administrator\",\r\n                value: \"admin\"\r\n              }\r\n            ]\r\n          }\r\n        ]\r\n      },\r\n      {\r\n        groupName: \"Firma użytkownika\",\r\n        xs: 6,\r\n        items: [\r\n          {\r\n            label: \"ID firmy\",\r\n            value: values.companyID,\r\n            disabled: true\r\n          },\r\n          {\r\n            label: \"Nazwa Firmy\",\r\n            value: values.companyName,\r\n            setValue: (v: React.ChangeEvent<HTMLInputElement>) => setValues({\r\n              ...values,\r\n              'companyID': findCompanyID(v.target.value),\r\n              'companyName': v.target.value\r\n            }),\r\n            options: companiesOptions\r\n          }\r\n        ]\r\n      },\r\n      {\r\n        groupName: \"Adres dostawy\",\r\n        xs: 6,\r\n        items: [\r\n          {\r\n            label: \"Imię\",\r\n            value: values.deliveryDetails.name,\r\n            setValue: (v: React.ChangeEvent<HTMLInputElement>) => setValues({...values, 'deliveryDetails': {...values.deliveryDetails, name: v.target.value}})\r\n          },\r\n          {\r\n            label: \"Nazwisko\",\r\n            value: values.deliveryDetails.lastName,\r\n            setValue: (v: React.ChangeEvent<HTMLInputElement>) => setValues({...values, 'deliveryDetails': {...values.deliveryDetails, lastName: v.target.value}})\r\n          },\r\n          {\r\n            label: \"Państwo\",\r\n            value: values.deliveryDetails.address.country,\r\n            setValue: (v: React.ChangeEvent<HTMLInputElement>) => setValues({\r\n              ...values,\r\n              'deliveryDetails': {...values.deliveryDetails,\r\n                address: {...values.deliveryDetails.address,\r\n                  country: v.target.value}}})\r\n          },\r\n          {\r\n            label: \"Kod pocztowy\",\r\n            value: values.deliveryDetails.address.postcode,\r\n            setValue: (v: React.ChangeEvent<HTMLInputElement>) => setValues({\r\n              ...values,\r\n              'deliveryDetails': {...values.deliveryDetails,\r\n                address: {...values.deliveryDetails.address,\r\n                  postcode: v.target.value}}})\r\n          },\r\n          {\r\n            label: \"Miasto\",\r\n            value: values.deliveryDetails.address.city,\r\n            setValue: (v: React.ChangeEvent<HTMLInputElement>) => setValues({\r\n              ...values,\r\n              'deliveryDetails': {...values.deliveryDetails,\r\n                address: {...values.deliveryDetails.address,\r\n                  city: v.target.value}}})\r\n          },\r\n          {\r\n            label: \"Ulica\",\r\n            value: values.deliveryDetails.address.street,\r\n            setValue: (v: React.ChangeEvent<HTMLInputElement>) => setValues({\r\n              ...values,\r\n              'deliveryDetails': {...values.deliveryDetails,\r\n                address: {...values.deliveryDetails.address,\r\n                  street: v.target.value}}})\r\n          },\r\n          {\r\n            label: \"Numer domu/mieszkania (np.: 24/6)\",\r\n            value: values.deliveryDetails.address.number,\r\n            setValue: (v: React.ChangeEvent<HTMLInputElement>) => setValues({\r\n              ...values,\r\n              'deliveryDetails': {...values.deliveryDetails,\r\n                address: {...values.deliveryDetails.address,\r\n                  number: v.target.value}}})\r\n          },\r\n        ]\r\n      }\r\n    ]\r\n  }\r\n\r\n  useEffect(() => {\r\n    console.log(values);\r\n  }, [values])\r\n\r\n  useEffect(() => {\r\n    console.log(companiesOptions);\r\n  }, [companiesOptions])\r\n\r\n  useEffect(() => {\r\n    const id = query.get('id');\r\n    if(id) {\r\n      setValues({...values, userID: id})\r\n    }\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    if(values.userID !== \"\") {\r\n      getUser(values.userID).then(data => {\r\n        console.log(data);\r\n        setValues({\r\n          ...values,\r\n          companyID: data.company && data.company.id ? data.company.id : values.companyID,\r\n          companyName: data.company && data.company.name ? data.company.name : values.companyName,\r\n          permission: data.permission,\r\n          username: data.username,\r\n          deliveryDetails: data.deliverDetails ? data.deliverDetails : values.deliveryDetails\r\n        })\r\n      })\r\n    }\r\n  }, [values.userID])\r\n\r\n\r\n  useEffect(() => {\r\n    if(!companies || (companies && companies.length === 0)) {\r\n      fetchCompanies();\r\n    }\r\n    initCompaniesOptions();\r\n  }, [companies])\r\n\r\n  const onSubmit = () => {\r\n    if(operation === 'creating') {\r\n      createUser(values.username).then(r =>\r\n        history.goBack()\r\n      );\r\n    }\r\n\r\n    if(operation === 'modifying') {\r\n      modifyUser(values.userID, {\r\n        companyID: values.companyID ? values.companyID : undefined,\r\n        deliveryDetails: values.deliveryDetails,\r\n        permission: values.permission as 'user' | 'admin'\r\n      }).then(r => history.goBack());\r\n    }\r\n  }\r\n\r\n  return (\r\n    <ThemeProvider theme={theme}>\r\n      <ItemHeader type=\"Użytkownik\" />\r\n      <ItemForm model={UserModel} operation={operation} />\r\n      <ItemSubmit submit={onSubmit} />\r\n    </ThemeProvider>\r\n  );\r\n})","import {IReactComponent} from \"mobx-react/dist/types/IReactComponent\";\r\nimport {observer} from \"mobx-react\";\r\nimport {theme} from \"../../App\";\r\nimport {Grid, TextField, ThemeProvider, Typography} from \"@material-ui/core\";\r\nimport {adminItemStyles} from \"../../views/Admin/AdminItem\";\r\nimport {Specification} from \"./Product\";\r\nimport React from \"react\";\r\nimport AddIcon from '@material-ui/icons/Add';\r\n\r\nexport const ItemSpecification: IReactComponent = observer(({spec, handleAdd}: {spec: Specification, handleAdd: () => any}) => {\r\n\tconst classes = adminItemStyles();\r\n\r\n\r\n\treturn (\r\n\t\t<ThemeProvider theme={theme}>\r\n\t\t\t<Grid item xs={12} className={classes.subTitle}>\r\n\t\t\t\t<Typography>\r\n\t\t\t\t\tSpecyfikacja\r\n\t\t\t\t</Typography>\r\n\t\t\t</Grid>\r\n\t\t\t{\r\n\t\t\t\tspec &&\r\n\t\t\t\t\tspec.items.map((s, i) => (\r\n\t\t\t\t\t\t<React.Fragment key={i}>\r\n\t\t\t\t\t\t\t<Grid item xs={6} className={classes.key}>\r\n\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\tvalue={s.key}\r\n\t\t\t\t\t\t\t\t\tlabel={\"Tytuł \" + (i + 1)}\r\n\t\t\t\t\t\t\t\t\tonChange={(e) => spec.setValue(e, 'key', i)}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t<Grid item xs={6} className={classes.val}>\r\n\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\tvalue={s.val}\r\n\t\t\t\t\t\t\t\t\tlabel={\"Wartość \" + (i + 1)}\r\n\t\t\t\t\t\t\t\t\tonChange={(e) => spec.setValue(e, 'val', i)}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t</React.Fragment>\r\n\t\t\t\t\t))\r\n\t\t\t}\r\n\t\t\t<Grid xs={9} item className={classes.add}>\r\n\t\t\t\t<AddIcon color=\"primary\" fontSize=\"large\" onClick={handleAdd} />\r\n\t\t\t</Grid>\r\n\t\t</ThemeProvider>\r\n\t)\r\n})","import {IReactComponent} from \"mobx-react/dist/types/IReactComponent\";\r\nimport {observer} from \"mobx-react\";\r\nimport {theme} from \"../../App\";\r\nimport { ThemeProvider } from \"@material-ui/core\";\r\nimport React, {useEffect, useState} from \"react\";\r\nimport {useHistory, useLocation} from \"react-router-dom\";\r\nimport {ItemHeader} from \"./ItemHeader\";\r\nimport {ItemForm} from \"./ItemForm\";\r\nimport {Model} from \"../../views/Admin/AdminItem\";\r\nimport {ItemSubmit} from \"./ItemSubmit\";\r\nimport {ItemSpecification} from \"./ItemSpecification\";\r\nimport {createProduct, getProduct, modifyProduct} from \"../../services/productService\";\r\nimport {addProductsToCategory, getCategories} from \"../../services/categoryService\";\r\n\r\nfunction useQuery() {\r\n  return new URLSearchParams(useLocation().search);\r\n}\r\n\r\nexport interface Specification {\r\n  items: Array<{key: string, val: string}>\r\n  setValue: (v: React.ChangeEvent<HTMLInputElement | HTMLTextAreaElement>, type: 'key' | 'val', index: number) => void,\r\n  deleteValue: (i: number) => void\r\n}\r\n\r\nexport const Product: IReactComponent = observer(({operation}: {operation: 'creating' | 'modifying'}) => {\r\n  const [values, setValues] = useState({id: \"\", name: \"\", price: 0, amount: 0, description: \"\", category: \"\"});\r\n  const [specification, setSpecification] = useState<Array<{key: string, val: string}>>([{key: \"\", val: \"\"}])\r\n  const [categories, setCategories] =  useState<Array<{label: string, value: string}>>([]);\r\n\r\n  let history = useHistory();\r\n  let query = useQuery();\r\n\r\n  const SpecificationModel: Specification = {\r\n    items: specification,\r\n    setValue: (v: React.ChangeEvent<HTMLInputElement | HTMLTextAreaElement>, type: 'key' | 'val', index: number) => {\r\n      const temp = [...specification];\r\n      temp[index][type] = v.target.value;\r\n      setSpecification([...temp])\r\n    },\r\n    deleteValue: (index: number) => {\r\n      const temp = [...specification];\r\n      temp.splice(index, 1);\r\n      setSpecification([...temp]);\r\n    }\r\n  }\r\n\r\n  const CompanyModel: Model = {\r\n    create: [\r\n      {\r\n        groupName: \"Główne informacje\",\r\n        xs: 6,\r\n        items: [\r\n          {\r\n            label: \"Nazwa produktu\",\r\n            required: true,\r\n            value: values.name,\r\n            setValue: (v: React.ChangeEvent<HTMLInputElement>) => setValues({...values, 'name': v.target.value}),\r\n          },\r\n          {\r\n            label: \"Kategoria\",\r\n            value: values.category,\r\n            setValue: (v: React.ChangeEvent<HTMLInputElement>) => setValues({...values, 'category': v.target.value}),\r\n            options: categories\r\n          },\r\n          {\r\n            label: \"Cena (w groszach)\",\r\n            required: true,\r\n            value: values.price,\r\n            setValue: (v: React.ChangeEvent<HTMLInputElement>) => setValues({...values, 'price': parseFloat(v.target.value)}),\r\n            type: \"number\"\r\n          },\r\n          {\r\n            label: \"Ilość\",\r\n            required: true,\r\n            value: values.amount,\r\n            setValue: (v: React.ChangeEvent<HTMLInputElement>) => setValues({...values, 'amount': parseInt(v.target.value)}),\r\n            type: \"number\"\r\n          },\r\n        ]\r\n      },\r\n      {\r\n        groupName: \"Opis produktu\",\r\n        xs: 12,\r\n        items: [\r\n          {\r\n            label: \"Opis\",\r\n            value: values.description,\r\n            setValue: (v: React.ChangeEvent<HTMLInputElement>) => setValues({...values, 'description': v.target.value}),\r\n          },\r\n        ],\r\n      }\r\n    ],\r\n    modify: [\r\n      {\r\n        groupName: \"Główne informacje\",\r\n        xs: 6,\r\n        items: [\r\n          {\r\n            label: \"Nazwa produktu\",\r\n            required: true,\r\n            value: values.name,\r\n            setValue: (v: React.ChangeEvent<HTMLInputElement>) => setValues({...values, 'name': v.target.value}),\r\n          },\r\n          {\r\n            label: \"Kategoria\",\r\n            value: values.category,\r\n            setValue: (v: React.ChangeEvent<HTMLInputElement>) => setValues({...values, 'category': v.target.value}),\r\n            options: categories\r\n          },\r\n          {\r\n            label: \"Cena (w groszach)\",\r\n            required: true,\r\n            value: values.price,\r\n            setValue: (v: React.ChangeEvent<HTMLInputElement>) => setValues({...values, 'price': parseFloat(v.target.value)}),\r\n            type: \"number\"\r\n          },\r\n          {\r\n            label: \"Ilość\",\r\n            required: true,\r\n            value: values.amount,\r\n            setValue: (v: React.ChangeEvent<HTMLInputElement>) => setValues({...values, 'amount': parseInt(v.target.value)}),\r\n            type: \"number\"\r\n          },\r\n        ]\r\n      }\r\n    ]\r\n  }\r\n\r\n  const onSubmit = async () => {\r\n    if(!values.name || values.name === \"\") {\r\n      return;\r\n    }\r\n\r\n    if(operation === 'creating') {\r\n      let spec = specification.filter(el => (el.key !== \"\" && el.val !== \"\"))\r\n      let input = {\r\n        name: values.name,\r\n        description: values.description,\r\n        amount: values.amount,\r\n        price: values.price,\r\n        specification: spec\r\n      };\r\n      await createProduct(input).then(async id => {\r\n        await addProductsToCategory(values.category, [id]);\r\n      })\r\n    }\r\n\r\n    if(operation === 'modifying') {\r\n      const id = query.get('id');\r\n      if(!id) throw new Error('No id found');\r\n      let spec = specification.filter(el => (el.key !== \"\" && el.val !== \"\"))\r\n      let input = {\r\n        name: values.name,\r\n        description: values.description,\r\n        amount: values.amount,\r\n        price: values.price,\r\n        category: values.category,\r\n        specification: spec\r\n      };\r\n      await modifyProduct(id, input).then(async (d) => {\r\n        if(!d.ok) {\r\n          console.error(await d.json());\r\n        }\r\n      })\r\n    }\r\n\r\n    history.goBack();\r\n  }\r\n\r\n  const onAdd = () => {\r\n    const temp = [...specification];\r\n    temp.push({key: \"\", val: \"\"})\r\n    setSpecification([...temp])\r\n  }\r\n\r\n  useEffect(() => {\r\n    getCategories().then(data => {\r\n      data.forEach(c => {\r\n        const temp = [{label: \"Brak\", value: \"\"}];\r\n        temp.push({label: c.categoryName, value: c.categoryName})\r\n        setCategories(temp);\r\n      })\r\n    })\r\n\r\n    if (operation === 'modifying') {\r\n      const id = query.get('id');\r\n      if(id) {\r\n        getProduct(id).then(p => {\r\n          setValues({\r\n            ...values,\r\n            'id': id,\r\n            'name': p.product.name,\r\n            'amount': p.product.amount ? p.product.amount : values.amount,\r\n            'price': p.product.price ? p.product.price : values.price,\r\n            'description': p.product.description ? p.product.description : values.description,\r\n            'category': p.category ? p.category : values.category\r\n          })\r\n          setSpecification(p.product.specification ? p.product.specification : [...specification])\r\n        })\r\n      }\r\n    }\r\n  }, [])\r\n\r\n  return (\r\n    <ThemeProvider theme={theme}>\r\n      <ItemHeader type=\"Produkt\" />\r\n      <ItemForm model={CompanyModel} operation={operation} />\r\n      <ItemSpecification spec={SpecificationModel} handleAdd={onAdd} />\r\n      <ItemSubmit submit={onSubmit} />\r\n    </ThemeProvider>\r\n  )\r\n})","import {IReactComponent} from \"mobx-react/dist/types/IReactComponent\";\r\nimport {observer} from \"mobx-react\";\r\nimport {theme} from \"../../App\";\r\nimport {Button, Container, Divider, Grid, Paper, ThemeProvider, Typography} from \"@material-ui/core\";\r\nimport React, {useEffect, useState} from \"react\";\r\nimport {adminItemStyles} from \"../Admin/AdminItem\";\r\nimport {useRootStore} from \"../../context/context\";\r\nimport {Delivery} from \"../../services/userService\";\r\nimport {Link, useHistory, useParams} from \"react-router-dom\"\r\nimport {getOrder, OrderType} from \"../../services/orderService\";\r\n\r\nconst SummaryTitle = ({name}: {name: string | number}) => {\r\n\treturn (\r\n\t\t<Grid item xs={3}>\r\n\t\t\t<Typography gutterBottom={true} variant=\"caption\">\r\n\t\t\t\t{\r\n\t\t\t\t\tname\r\n\t\t\t\t}\r\n\t\t\t</Typography>\r\n\t\t</Grid>\r\n\t)\r\n}\r\n\r\nconst SummaryItem = ({name}: {name: string | number}) => {\r\n\treturn (\r\n\t\t<Grid item xs={3}>\r\n\t\t\t<Typography gutterBottom={true} variant=\"body2\">\r\n\t\t\t\t{\r\n\t\t\t\t\tname\r\n\t\t\t\t}\r\n\t\t\t</Typography>\r\n\t\t</Grid>\r\n\t)\r\n}\r\n\r\nconst SummaryDelivery = ({d}: {d: Delivery | undefined}) => {\r\n\r\n\tif(!d) {\r\n\t\treturn(<></>)\r\n\t}\r\n\r\n\tconst Ttext = ({t}: {t: string | number}) => {\r\n\t\treturn (\r\n\t\t\t<Typography align=\"left\" variant=\"body2\">\r\n\t\t\t\t{\r\n\t\t\t\t\tt\r\n\t\t\t\t}\r\n\t\t\t</Typography>\r\n\t\t)\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Grid container justify=\"center\">\r\n\t\t\t<Grid item xs={10}>\r\n\t\t\t\t<Ttext t={d.name + \" \" + d.lastName} />\r\n\t\t\t</Grid>\r\n\t\t\t<Grid item xs={10}>\r\n\t\t\t\t<Ttext t={d.address.street + \", \" + d.address.number} />\r\n\t\t\t</Grid>\r\n\t\t\t<Grid item xs={10}>\r\n\t\t\t\t<Ttext t={d.address.postcode + \", \" + d.address.city} />\r\n\t\t\t</Grid>\r\n\t\t\t<Grid item xs={10}>\r\n\t\t\t\t<Ttext t={d.address.country} />\r\n\t\t\t</Grid>\r\n\t\t</Grid>\r\n\t)\r\n}\r\n\r\nexport const OrderSummary: IReactComponent = observer(({order}: {order?: OrderType}) => {\r\n\tconst [o, setO] = useState<OrderType | undefined>();\r\n\tconst [price, setPrice] = useState<number>(0);\r\n\tconst classes = adminItemStyles();\r\n\tconst store = useRootStore();\r\n\tconst history = useHistory();\r\n\r\n\tlet { id } = useParams<{id: string}>();\r\n\r\n\tconst submitOrder = () => {\r\n\t\ttry {\r\n\t\t\tstore.cart.placeOrder().then(r => {\r\n\t\t\t\thistory.push('/')\r\n\t\t\t});\r\n\t\t} catch (e) {\r\n\t\t\tconsole.error(e);\r\n\t\t}\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tif(order) {\r\n\t\t\tsetO(order);\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif(id) {\r\n\t\t\tgetOrder(id).then(d => {\r\n\t\t\t\tsetO(d);\r\n\t\t\t})\r\n\t\t}\r\n\t}, [])\r\n\r\n\tuseEffect(() => {\r\n\t\tlet p = 0;\r\n\t\to && o.items.forEach(it => {\r\n\t\t\tp += it.product.price * it.quantity;\r\n\t\t})\r\n\t\tsetPrice(p);\r\n\t}, [o])\r\n\r\n\treturn (\r\n\t\t<ThemeProvider theme={theme}>\r\n\t\t\t<Container>\r\n\t\t\t\t<Grid container spacing={3} className={classes.g}>\r\n\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t<Paper className={classes.paper}>\r\n\t\t\t\t\t\t\t<Grid container>\r\n\t\t\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t\t\t<Grid container>\r\n\t\t\t\t\t\t\t\t\t\t<Grid item xs={8}>\r\n\t\t\t\t\t\t\t\t\t\t\t<Typography variant=\"subtitle2\" gutterBottom={true}>\r\n\t\t\t\t\t\t\t\t\t\t\t\tPodsumowanie zamówienia\r\n\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t\t\t\t\t\t<Grid item xs={4}>\r\n\t\t\t\t\t\t\t\t\t\t\t<Typography variant=\"subtitle2\" gutterBottom={true} align=\"center\">\r\n\t\t\t\t\t\t\t\t\t\t\t\tAdres dostawy\r\n\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t<Grid container>\r\n\t\t\t\t\t\t\t\t\t\t<Grid item xs={8}>\r\n\t\t\t\t\t\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Grid container>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<SummaryTitle name=\"Produkt\" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<SummaryTitle name=\"Ilość\" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<SummaryTitle name=\"Cena za sztukę\" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<SummaryTitle name=\"Cena za całość\" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Divider />\r\n\t\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Grid container>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t(o ? o.items : store.cart.items).map((item, i)=> (\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<React.Fragment key={i}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<SummaryItem name={'product' in item ? item.product.name : item.name} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<SummaryItem name={item.quantity} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<SummaryItem name={(('product' in item ? item.product.price : item.price) / 100).toFixed(2) + \" zł\"} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<SummaryItem name={(('product' in item ? item.product.price : item.price) * item.quantity / 100).toFixed(2) + \" zł\"} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</React.Fragment>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t))\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Divider />\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Grid container>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Grid item xs={9} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Grid item xs={3}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Typography variant=\"body2\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t((price !== 0 ? price : store.cart.price) / 100).toFixed(2) + \" zł\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t\t<Grid item xs={4}>\r\n\t\t\t\t\t\t\t\t\t\t\t<SummaryDelivery d={store.cart.deliveryDetails || store.user.user?.deliverDetails} />\r\n\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t!id && !order &&\r\n                        <Link to=\"/order/delivery\">\r\n                            <Typography align=\"right\" variant=\"body2\" color=\"primary\">\r\n                                Zmień...\r\n                            </Typography>\r\n                        </Link>\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t</Paper>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t!id && !order &&\r\n\t          <Grid item xs={12}>\r\n\t              <Grid container justify=\"flex-end\">\r\n\t                  <Button variant={\"contained\"} color={\"primary\"} onClick={submitOrder}>Potwierdź zamówienie</Button>\r\n\t              </Grid>\r\n\t          </Grid>\r\n\t\t\t\t\t}\r\n\t\t\t\t</Grid>\r\n\t\t\t</Container>\r\n\t\t</ThemeProvider>\r\n\t)\r\n});","import {IReactComponent} from \"mobx-react/dist/types/IReactComponent\";\r\nimport {observer} from \"mobx-react\";\r\nimport {theme} from \"../../App\";\r\nimport {Button, Container, Grid, MenuItem, Select, ThemeProvider} from \"@material-ui/core\";\r\nimport React, {useEffect, useState} from \"react\";\r\nimport {ItemHeader} from \"./ItemHeader\";\r\nimport {changeOrderStatus, getOrder, OrderStatus, OrderType} from \"../../services/orderService\";\r\nimport {useHistory, useLocation} from \"react-router-dom\";\r\nimport {OrderSummary} from \"../../views/Order/OrderSummary\";\r\n\r\nfunction useQuery() {\r\n  return new URLSearchParams(useLocation().search);\r\n}\r\n\r\nconst statusValues = [\r\n  OrderStatus.Ordered,\r\n  OrderStatus.PaymentDone,\r\n  OrderStatus.Shipped,\r\n  OrderStatus.Delivered\r\n]\r\n\r\nconst statuses = [\r\n  {\r\n    label: \"Zamówione\",\r\n    value: statusValues[0]\r\n  },\r\n  {\r\n    label: \"Opłacone\",\r\n    value: statusValues[1]\r\n  },\r\n  {\r\n    label: \"Wysłane\",\r\n    value: statusValues[2]\r\n  },\r\n  {\r\n    label: \"Dostarczone\",\r\n    value: statusValues[3]\r\n  },\r\n\r\n]\r\n\r\nexport const Order: IReactComponent = observer(({operation}: {operation: 'creating' | 'modifying'}) => {\r\n  const [order, setOrder] = useState<OrderType | null>(null);\r\n  const [status, setStatus] = useState<OrderStatus>(OrderStatus.Ordered);\r\n\r\n  const history = useHistory();\r\n  let query = useQuery();\r\n\r\n\r\n  const handleChange = (event: React.ChangeEvent<{ value: unknown }>) => {\r\n    setStatus(event.target.value as OrderStatus);\r\n  }\r\n\r\n  const isDisabled = (val: OrderStatus):boolean => {\r\n    if(!order) return false\r\n    return statusValues.indexOf(val) < statusValues.indexOf(order.status[order.status.length - 1].status);\r\n  }\r\n\r\n  const updateStatus = () => {\r\n    const id = query.get('id');\r\n\r\n    if(id) {\r\n      changeOrderStatus(id, status)\r\n    }\r\n\r\n    history.goBack();\r\n  }\r\n\r\n  useEffect(() => {\r\n    const id = query.get('id');\r\n\r\n    if(id) {\r\n      getOrder(id).then(r => {\r\n        setOrder(r)\r\n        setStatus(r.status[r.status.length - 1].status)\r\n      })\r\n    }\r\n  }, [])\r\n\r\n  return (\r\n    <ThemeProvider theme={theme}>\r\n      <ItemHeader type=\"Zamówienie\" />\r\n      <OrderSummary order={order} />\r\n      <Container>\r\n        <Grid container>\r\n          <Grid item xs={6}>\r\n            {\r\n              order &&\r\n              order.status &&\r\n                <Select\r\n                  value={status}\r\n                  onChange={handleChange}\r\n                  style={{width: '25%', margin: \"1rem\"}}\r\n                >\r\n                  {\r\n                    statuses.map((s, i) => (\r\n                      <MenuItem disabled={isDisabled(s.value)} key={i} value={s.value}>{s.label}</MenuItem>\r\n                    ))\r\n                  }\r\n                </Select>\r\n            }\r\n          </Grid>\r\n          <Grid item xs={6} style={{textAlign: \"right\"}}>\r\n            <Button style={{margin: \"1rem\"}} variant=\"contained\" color=\"primary\" onClick={updateStatus}>Zapisz</Button>\r\n          </Grid>\r\n        </Grid>\r\n      </Container>\r\n    </ThemeProvider>\r\n  )\r\n});","import {\r\n\tContainer,\r\n\tcreateStyles,\r\n\tFormControl,\r\n\tGrid,\r\n\tGridSize,\r\n\tInput,\r\n\tInputLabel,\r\n\tmakeStyles,\r\n\tMenuItem,\r\n\tPaper,\r\n\tTextField,\r\n\tTheme,\r\n\tThemeProvider,\r\n\tTypography\r\n} from '@material-ui/core';\r\nimport { observer } from 'mobx-react';\r\nimport { IReactComponent } from 'mobx-react/dist/types/IReactComponent';\r\nimport React, { useEffect, useState } from 'react';\r\nimport { useHistory, useLocation, useParams } from 'react-router-dom';\r\nimport { theme } from '../../App';\r\nimport { useRootStore } from '../../context/context';\r\nimport {Company} from \"../../components/Admin/Company\";\r\nimport {User} from \"../../components/Admin/User\";\r\nimport {Product} from \"../../components/Admin/Product\";\r\nimport {Order} from \"../../components/Admin/Order\";\r\n\r\nexport interface ModelOption {\r\n\tlabel: string,\r\n\tvalue: string\r\n}\r\n\r\nexport interface ModelItem {\r\n\tlabel: string,\r\n\tvalue: any,\r\n\tsetValue?: React.Dispatch<any>,\r\n\toptions?: Array<ModelOption>,\r\n\tdisabled?: boolean,\r\n\trequired?: boolean\r\n\ttype?: 'number',\r\n}\r\n\r\nexport interface ModelGroup {\r\n\tgroupName?: string,\r\n\txs: GridSize,\r\n\titems: Array<ModelItem>\r\n}\r\n\r\nexport interface Model {\r\n\tcreate: Array<ModelGroup>,\r\n\tmodify: Array<ModelGroup>\r\n}\r\n\r\nexport const adminItemStyles = makeStyles((theme: Theme) =>\r\n  createStyles({\r\n    root: {\r\n      flexGrow: 1,\r\n    },\r\n\t\tg: {\r\n\t\t\tmarginTop: theme.spacing(5),\r\n\t\t},\r\n    paper: {\r\n      padding: theme.spacing(2),\r\n      textAlign: 'left',\r\n      color: theme.palette.text.primary,\r\n    },\r\n\t\ttitle: {\r\n\t\t\tmarginRight: theme.spacing(1),\r\n\t\t\tfontSize: \"1.2rem\"\r\n\t\t},\r\n\t\ttype: {\r\n\t\t\ttextAlign: \"right\",\r\n\t\t\tcolor: theme.palette.primary.dark\r\n\t\t},\r\n\t\tdelete: {\r\n\t\t\tfontSize: \"0.7rem\",\r\n\t\t\tcolor: theme.palette.error.dark,\r\n\t\t\tcursor: \"pointer\"\r\n\t\t},\r\n\t\tsubTitle: {\r\n\t\t\ttextAlign: \"left\",\r\n\t\t\tcolor: theme.palette.primary.light,\r\n\t\t\tmarginTop: theme.spacing(5),\r\n\t\t\tborderBottomStyle: \"solid\",\r\n\t\t\tborderBottomWidth: \"1px\",\r\n\t\t\tborderBottomColor: theme.palette.primary.light,\r\n\t\t\tmarginBottom: theme.spacing(2)\r\n\t\t},\r\n\t\tinput: {\r\n    \tmarginTop: theme.spacing(2),\r\n\t\t\twidth: \"70%\",\r\n\t\t},\r\n\t\toption: {\r\n\t\t\tpadding: theme.spacing(1),\r\n\t\t\tcursor: \"pointer\",\r\n\t\t\t\"&:hover\": {\r\n\t\t\t\tbackgroundColor: theme.palette.action.hover,\r\n\t\t\t}\r\n\t\t},\r\n\t\tsubmit: {\r\n\t\t\tborderTopStyle: \"solid\",\r\n\t\t\tborderTopWidth: \"1px\",\r\n\t\t\tborderTopColor: theme.palette.primary.light,\r\n\t\t\tmarginTop: theme.spacing(3),\r\n\t\t\tpaddingTop: theme.spacing(2),\r\n\t\t\ttextAlign: \"center\"\r\n\t\t},\r\n\t\tkey: {\r\n\t\t\ttextAlign: \"right\",\r\n\t\t\tpadding: theme.spacing(2)\r\n\t\t},\r\n\t\tval: {\r\n\t\t\ttextAlign: \"left\",\r\n\t\t\tpadding: theme.spacing(2)\r\n\t\t},\r\n\t\tadd: {\r\n    \ttextAlign: \"right\",\r\n\t\t\tcursor: \"pointer\"\r\n\t\t},\r\n\t  categoryTitle: {\r\n\t\t  textAlign: \"center\",\r\n\t\t  fontSize: \"1.5rem\",\r\n\t\t  margin: theme.spacing(0.25),\r\n\t\t  textTransform: \"capitalize\",\r\n\t\t  color: theme.palette.secondary.dark\r\n\t  },\r\n\t})\r\n)\r\n\r\nfunction useQuery() {\r\n\treturn new URLSearchParams(useLocation().search);\r\n}\r\n\r\nexport enum Type {\r\n\tUser,\r\n\tCompany,\r\n\tProduct,\r\n\tOrder\r\n}\r\n\r\nexport const AdminItem: IReactComponent = observer(() => {\r\n\tconst [type, setType] = useState<Type>();\r\n\tconst [operation, setOperation] = useState<'creating' | 'modifying'>('creating');\r\n\r\n\r\n\tconst classes = adminItemStyles();\r\n\r\n\tlet query = useQuery();\r\n\tlet { adminType } = useParams<{adminType: string}>();\r\n\tlet history = useHistory();\r\n\tconst rootStore = useRootStore();\r\n\t\r\n\tuseEffect(() => {\r\n\t\tif(!rootStore.user.userLogged || (rootStore.user.userLogged && rootStore.user.user && rootStore.user.user.permission !== 'admin')) {\r\n\t\t\thistory.push('/');\r\n\t\t} else {\r\n\t\t\tswitch(adminType) {\r\n\t\t\t\tcase 'users': {\r\n\t\t\t\t\tsetType(Type.User);\r\n\t\t\t\t\tsetOperation(query.get('id') ? 'modifying' : 'creating');\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t\tcase 'companies': {\r\n\t\t\t\t\tsetType(Type.Company);\r\n\t\t\t\t\tsetOperation(query.get('id') ? 'modifying' : 'creating');\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t\tcase 'products': {\r\n\t\t\t\t\tsetType(Type.Product);\r\n\t\t\t\t\tsetOperation(query.get('id') ? 'modifying' : 'creating');\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t\tcase 'orders': {\r\n\t\t\t\t\tsetType(Type.Order);\r\n\t\t\t\t\tsetOperation(query.get('id') ? 'modifying' : 'creating');\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t\tdefault: {\r\n\t\t\t\t\thistory.push('/');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}, [adminType, history, query, rootStore.user.user, rootStore.user.userLogged]);\r\n\r\n\treturn(\r\n\t\t<ThemeProvider theme={theme}>\r\n\t\t\t<Container>\r\n\t\t\t\t<Grid container spacing={3} className={classes.g}>\r\n\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t<Paper className={classes.paper}>\r\n\t\t\t\t\t\t\t\t<Grid container>\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\ttype === Type.User &&\r\n\t\t\t\t\t\t\t\t\t\t<User operation={operation}/>\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\ttype === Type.Company &&\r\n\t\t\t\t\t\t\t\t\t\t<Company operation={operation}/>\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\ttype === Type.Product &&\r\n\t\t\t\t\t\t\t\t\t\t<Product operation={operation} />\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\ttype === Type.Order &&\r\n\t\t\t\t\t\t\t\t\t\t<Order operation={operation} />\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t</Paper>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</Grid>\r\n\t\t\t</Container>\r\n\t\t</ThemeProvider>\r\n\t);\r\n})","import {IReactComponent} from \"mobx-react/dist/types/IReactComponent\";\r\nimport {observer} from \"mobx-react\";\r\nimport {theme} from \"../../App\";\r\nimport {Button, ThemeProvider} from \"@material-ui/core\";\r\nimport {productStyle} from \"./ProductItem\";\r\nimport {useRootStore} from \"../../context/context\";\r\n\r\nexport const ProductAddToCart: IReactComponent = observer(({add, dis}: {add: () => any, dis: boolean}) => {\r\n\tconst prodClass = productStyle();\r\n\tconst store = useRootStore();\r\n\r\n\r\n\r\n\treturn (\r\n\t\t<ThemeProvider theme={theme}>\r\n\t\t\t<Button variant=\"contained\" disabled={!store.user.userLogged || dis} color=\"primary\" className={prodClass.button} onClick={add}>\r\n\t\t\t\tDo koszyka\r\n\t\t\t</Button>\r\n\t\t</ThemeProvider>\r\n\t)\r\n});","import {IReactComponent} from \"mobx-react/dist/types/IReactComponent\";\r\nimport {observer} from \"mobx-react\";\r\nimport {theme} from \"../../App\";\r\nimport {createStyles, Grid, makeStyles, Paper, Theme, ThemeProvider, Typography} from \"@material-ui/core\";\r\nimport {adminItemStyles} from \"../../views/Admin/AdminItem\";\r\nimport {ProductInfo, ProductQuantity} from \"../../services/productService\";\r\nimport React from \"react\";\r\nimport {ProductAddToCart} from \"./ProductAddToCart\";\r\nimport {useRootStore} from \"../../context/context\";\r\nimport {Link} from \"react-router-dom\";\r\n\r\nexport const productStyle = makeStyles((theme: Theme) =>\r\n\tcreateStyles({\r\n\t\ttitle: {\r\n\t\t\tfontSize: \"1.5rem\",\r\n\t\t\tpaddingBottom: theme.spacing(1),\r\n\t\t\ttextDecoration: \"none\",\r\n\t\t\tcolor: theme.palette.primary.light,\r\n\t\t\ttextDecorationLine: \"underline\",\r\n\t\t\t\"&:focus\": {\r\n\t\t\t\ttextDecoration: \"none\",\r\n\t\t\t\tcolor: theme.palette.text.primary,\r\n\t\t\t}\r\n\t\t},\r\n\t\tbutton: {\r\n\t\t\twidth: \"80%\"\r\n\t\t},\r\n\t\tprice: {\r\n\t\t\twidth: \"80%\",\r\n\t\t\tfontSize: \"1.5rem\",\r\n\t\t\tmarginBottom: theme.spacing(2),\r\n\t\t\tborderBottom: \"1px solid black\",\r\n\t\t\tborderBottomColor: theme.palette.primary.main,\r\n\t\t\tcolor: theme.palette.text.secondary\r\n\t\t}\r\n\t})\r\n)\r\n\r\nexport const ProductItem: IReactComponent = observer(({product}: {product: ProductInfo}) => {\r\n\tconst classes = adminItemStyles();\r\n\tconst prodClass = productStyle();\r\n\tconst store = useRootStore()\r\n\r\n\tconst addToCart = (p: ProductInfo | undefined) => {\r\n\t\tif(!p) return;\r\n\t\tif(!p.id || !p.name || !p.price) return;\r\n\t\tconst pr: ProductQuantity = {\r\n\t\t\tid: p.id,\r\n\t\t\tname: p.name,\r\n\t\t\tprice: p.price,\r\n\t\t\tquantity: 1\r\n\t\t}\r\n\r\n\t\tstore.cart.addToCart(pr)\r\n\t}\r\n\r\n\treturn (\r\n\t\t<ThemeProvider theme={theme}>\r\n\t\t\t<Grid item xs={12}>\r\n\t\t\t\t<Paper className={classes.paper}>\r\n\t\t\t\t\t<Grid container>\r\n\t\t\t\t\t\t<Grid item xs={8}>\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tproduct &&\r\n\t\t\t\t\t\t\t\t\t<Typography>\r\n\t\t\t\t\t\t\t\t\t\t<Link to={'/product/' + product.id} className={prodClass.title}>\r\n\t\t\t\t\t\t\t\t\t\t\t{product.name}\r\n\t\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid item xs={4}>\r\n\t\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t\t<Typography className={prodClass.price}>\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t(product.price / 100).toFixed(2) + \" zł\"\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t\t<ProductAddToCart add={() => addToCart(product)} />\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid item xs={8}>\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tproduct &&\r\n\t\t\t\t\t\t\t\tproduct.specification &&\r\n\t\t\t\t\t\t\t\t\tproduct.specification.slice(0, 4).map((s, i) => (\r\n\t\t\t\t\t\t\t\t\t\t<Grid container spacing={1} key={i}>\r\n\t\t\t\t\t\t\t\t\t\t\t<Grid item>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Typography>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t'• ' + s.key + ': '\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t\t\t<Grid item>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Typography style={{fontWeight: \"bold\"}}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ts.val\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t))\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</Paper>\r\n\t\t\t</Grid>\r\n\t\t</ThemeProvider>\r\n\t)\r\n});","import {IReactComponent} from \"mobx-react/dist/types/IReactComponent\";\r\nimport {observer} from \"mobx-react\";\r\nimport {theme} from \"../../App\";\r\nimport {Container, Grid, Paper, ThemeProvider, Typography} from \"@material-ui/core\";\r\nimport {useEffect, useState} from \"react\";\r\nimport {getProducts, ProductInfo} from \"../../services/productService\";\r\nimport {getProductsFromCategory} from \"../../services/categoryService\";\r\nimport {ProductItem} from \"./ProductItem\";\r\nimport {useHistory} from \"react-router-dom\";\r\nimport {adminItemStyles} from \"../../views/Admin/AdminItem\";\r\n\r\nexport const ProductList: IReactComponent = observer(({category}: {category?: string}) => {\r\n\tconst [products, setProducts] = useState<ProductInfo[]>([]);\r\n\r\n\tconst classes = adminItemStyles();\r\n\tlet history = useHistory();\r\n\r\n\tuseEffect(() => {\r\n\t\tif(category) {\r\n\t\t\tgetProductsFromCategory(category).then(ps => {\r\n\t\t\t\tsetProducts(ps);\r\n\t\t\t}).catch(er => {\r\n\t\t\t\tconsole.error(er);\r\n\t\t\t\thistory.goBack();\r\n\t\t\t})\r\n\t\t} else {\r\n\t\t\tgetProducts().then(ps => {\r\n\t\t\t\tsetProducts(ps);\r\n\t\t\t}).catch(er => {\r\n\t\t\t\tconsole.error(er);\r\n\t\t\t\thistory.goBack()\r\n\t\t\t})\r\n\t\t}\r\n\t}, [])\r\n\treturn (\r\n\t\t<ThemeProvider theme={theme}>\r\n\t\t\t<Container>\r\n\t\t\t\t{\r\n\t\t\t\t\tcategory &&\r\n          <Grid container style={{marginTop: theme.spacing(2)}}>\r\n              <Grid item xs={12}>\r\n                  <Paper className={classes.paper}>\r\n\t                  <Typography className={classes.categoryTitle}>\r\n\t\t                  {category}\r\n\t                  </Typography>\r\n                  </Paper>\r\n              </Grid>\r\n          </Grid>\r\n\t\t\t\t}\r\n\t\t\t\t<Grid container spacing={2} className={classes.g}>\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tproducts &&\r\n\t\t\t\t\t\tproducts.map((p, i) => (\r\n\t\t\t\t\t\t\t<Grid item xs={12} key={i}>\r\n\t\t\t\t\t\t\t\t<ProductItem product={p} />\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t))\r\n\t\t\t\t\t}\r\n\t\t\t\t</Grid>\r\n\t\t\t</Container>\r\n\t\t</ThemeProvider>\r\n\t)\r\n})","import {IReactComponent} from \"mobx-react/dist/types/IReactComponent\";\r\nimport {observer} from \"mobx-react\";\r\nimport {theme} from \"../../App\";\r\nimport {ThemeProvider} from \"@material-ui/core\";\r\nimport {ProductList} from \"../../components/Product/ProductList\";\r\nimport {useParams} from \"react-router-dom\";\r\n\r\nexport const IndexView: IReactComponent = observer(() => {\r\n\tlet { category } = useParams<{category: string}>();\r\n\r\n\treturn (\r\n\t\t<ThemeProvider theme={theme}>\r\n\t\t\t<ProductList category={category} />\r\n\t\t</ThemeProvider>\r\n\t)\r\n});","import {IReactComponent} from \"mobx-react/dist/types/IReactComponent\";\r\nimport {observer} from \"mobx-react\";\r\nimport {theme} from \"../../App\";\r\nimport {\r\n\tButton,\r\n\tContainer,\r\n\tcreateStyles,\r\n\tGrid,\r\n\tmakeStyles,\r\n\tPaper,\r\n\tTheme,\r\n\tThemeProvider,\r\n\tTypography\r\n} from \"@material-ui/core\";\r\nimport {useRootStore} from \"../../context/context\";\r\nimport {useStyles} from \"../Admin/AdminList\";\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport {Link} from 'react-router-dom';\r\n\r\nexport const cartStyles = makeStyles((theme: Theme) =>\r\n\tcreateStyles({\r\n\t\tcart: {\r\n\t\t\tmargin: theme.spacing(2)\r\n\t\t},\r\n\t\titem: {\r\n\t\t\tmarginTop: theme.spacing(2),\r\n\t\t\tmarginBottom: theme.spacing(2),\r\n\t\t\tborderBottom: \"solid 1px black\",\r\n\t\t\tborderBottomColor: theme.palette.primary.main\r\n\t\t},\r\n\t\tsummary: {\r\n\t\t\tpadding: theme.spacing(2)\r\n\t\t},\r\n\t\tcenter: {\r\n\t\t\tdisplay: \"flex\",\r\n\t\t\talignItems: \"center\",\r\n\t\t},\r\n\t\tbuttonContainer: {\r\n\t\t\tdisplay: \"flex\",\r\n\t\t\tjustifyContent: \"center\",\r\n\t\t\tmargin: theme.spacing(2)\r\n\t\t}\r\n\t})\r\n)\r\n\r\nexport const CartView: IReactComponent = observer(() => {\r\n\tconst classes = useStyles();\r\n\tconst cart = cartStyles();\r\n\tconst store = useRootStore()\r\n\r\n\treturn (\r\n\t\t<ThemeProvider theme={theme}>\r\n\t\t\t<Container maxWidth=\"lg\">\r\n\t\t\t\t<Grid container className={classes.g} spacing={2}>\r\n\t\t\t\t\t<Grid item xs={12} className={cart.cart}>\r\n\t\t\t\t\t\t<Typography align=\"center\">\r\n\t\t\t\t\t\t\tKoszyk\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item xs={8}>\r\n\t\t\t\t\t\t<Paper style={{justifyContent: \"center\", margin: \"auto\"}} className={cart.summary}>\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tstore.cart.items.length > 0 &&\r\n\t\t\t\t\t\t\t\tstore.cart.items.map((item, i) => (\r\n\t\t\t\t\t\t\t\t\t<Grid container key={i} className={cart.item}>\r\n\t\t\t\t\t\t\t\t\t\t<Grid item xs={3}>\r\n\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Typography  align=\"center\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{item.name}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t\t<Grid item xs={3}>\r\n\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Typography align=\"center\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{item.quantity}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t\t<Grid item xs={3}>\r\n\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Typography align=\"center\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{(item.price * item.quantity / 100).toFixed(2) + \" zł\"}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t\t<Grid item xs={3}>\r\n\t\t\t\t\t\t\t\t\t\t\t<Typography align=\"center\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<CloseIcon color=\"error\" cursor=\"pointer\" onClick={() => store.cart.removeFromCart(item.id)} />\r\n\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t))\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tstore.cart.items.length === 0 &&\r\n\t\t\t\t\t\t\t\t\t<Typography>\r\n\t\t\t\t\t\t\t\t\t\t\tTwój koszyk jest pusty...\r\n\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t</Paper>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item xs={4}>\r\n\t\t\t\t\t\t<Paper style={{justifyContent: \"center\", margin: \"auto\"}}>\r\n\t\t\t\t\t\t\t<Grid container className={cart.summary}>\r\n\t\t\t\t\t\t\t\t<Grid item xs={6} className={cart.center}>\r\n\t\t\t\t\t\t\t\t\t<Typography>\r\n\t\t\t\t\t\t\t\t\t\tDo zapłaty\r\n\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t<Grid item xs={6}>\r\n\t\t\t\t\t\t\t\t\t<Typography align=\"right\" variant=\"h5\">\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t(store.cart.price / 100).toFixed(2) + \" zł\"\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t<Grid item xs={12} className={cart.buttonContainer}>\r\n\t\t\t\t\t\t\t\t\t<Link to={'/order/delivery'}>\r\n\t\t\t\t\t\t\t\t\t\t<Button variant=\"contained\" color=\"primary\" disabled={!store.user.userLogged || store.cart.items.length === 0}>\r\n\t\t\t\t\t\t\t\t\t\t\tWybierz sposób dostawy\r\n\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t</Paper>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</Grid>\r\n\t\t\t</Container>\r\n\t\t</ThemeProvider>\r\n\t)\r\n});","import {IReactComponent} from \"mobx-react/dist/types/IReactComponent\";\r\nimport {observer} from \"mobx-react\";\r\nimport {theme} from \"../../App\";\r\nimport {createStyles, Grid, makeStyles, Paper, Theme, ThemeProvider, Typography} from \"@material-ui/core\";\r\nimport {getProduct, Product, ProductInfo, ProductQuantity} from \"../../services/productService\";\r\nimport React, {useEffect, useState} from \"react\";\r\nimport {useParams} from \"react-router-dom\";\r\nimport {ProductItem} from \"../../components/Product/ProductItem\";\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport RemoveIcon from '@material-ui/icons/Remove';\r\nimport {ProductAddToCart} from \"../../components/Product/ProductAddToCart\";\r\nimport {useRootStore} from \"../../context/context\";\r\n\r\nexport const s = makeStyles((theme: Theme) =>\r\n\tcreateStyles({\r\n\t\tgrid: {\r\n\t\t\tmarginTop: theme.spacing(2),\r\n\t\t},\r\n\t\tmain: {\r\n\t\t\tpadding: theme.spacing(3),\r\n\t\t\twidth: \"90vw\"\r\n\t\t},\r\n\t\tcategory: {\r\n\t\t\tmarginLeft: theme.spacing(4)\r\n\t\t},\r\n\t\tquantity: {\r\n\t\t\tdisplay: \"flex\",\r\n\t\t\talignItems: \"center\",\r\n\t\t\tjustifyContent: \"center\",\r\n\t\t\tpadding: theme.spacing(0.5),\r\n\t\t},\r\n\t\tdescription: {\r\n\t\t\tmarginTop: theme.spacing(3),\r\n\t\t\tpaddingTop: theme.spacing(1),\r\n\t\t\tborderTopColor: theme.palette.primary.main,\r\n\t\t\tborderTop: \"solid 1px\"\r\n\t\t}\r\n\t}\r\n))\r\nexport const ProductView: IReactComponent = observer(() => {\r\n\tconst [product, setProduct] = useState<ProductInfo | null>(null);\r\n\tconst [category, setCategory] = useState<String | null>(null);\r\n\tconst [amountAvailable, setAmount] = useState(0);\r\n\tconst [quantity, setQuantity] = useState<number>(1);\r\n\r\n\tconst st = s();\r\n\tconst store = useRootStore();\r\n\tlet { productID } = useParams<{productID: string}>();\r\n\r\n\tuseEffect(() => {\r\n\t\tgetProduct(productID).then(p => {\r\n\t\t\tsetProduct(p.product);\r\n\t\t\tsetAmount(p.product.amount);\r\n\t\t\tif(p.category)\r\n\t\t\tsetCategory(p.category);\r\n\t\t})\r\n\t}, [])\r\n\r\n\tuseEffect(() => {\r\n\t\tadjustQuantity();\r\n\t}, [amountAvailable])\r\n\r\n\tuseEffect(() => {\r\n\t\tconsole.log(amountAvailable);\r\n\t}, [amountAvailable])\r\n\r\n\tconst addToCart = (p: ProductInfo | undefined) => {\r\n\t\tif(!p) return;\r\n\t\tif(!p.id || !p.name || !p.price) return;\r\n\t\tconst pr: ProductQuantity = {\r\n\t\t\tid: p.id,\r\n\t\t\tname: p.name,\r\n\t\t\tprice: p.price,\r\n\t\t\tquantity: quantity\r\n\t\t}\r\n\r\n\t\tstore.cart.addToCart(pr);\r\n\t\tadjustQuantity();\r\n\t}\r\n\r\n\tconst adjustQuantity = () => {\r\n\t\tfor(const p of store.cart.items) {\r\n\t\t\tif(p.id === productID) {\r\n\t\t\t\tlet am = 0;\r\n\t\t\t\tif(product && product.amount) {\r\n\t\t\t\t\tam = product.amount - p.quantity;\r\n\t\t\t\t}\r\n\t\t\t\tconsole.log(\"am: \", am);\r\n\t\t\t\tsetAmount(am);\r\n\r\n\t\t\t\tif(quantity === am) {\r\n\t\t\t\t\tsetQuantity(am);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\treturn (\r\n\t\t<ThemeProvider theme = {theme} >\r\n\t\t\t<Grid container justify=\"center\" className={st.grid}>\r\n\t\t\t\t<Paper className={st.main}>\r\n\t\t\t\t\t<Grid container>\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tproduct &&\r\n\t\t\t\t\t\t\t<>\r\n                <Grid xs={12} item>\r\n                  <Typography align=\"center\" variant=\"h4\">\r\n\t                  {\r\n\t                    product.name\r\n\t                  }\r\n                  </Typography>\r\n                </Grid>\r\n\r\n\t\t\t\t\t\t\t\t<Grid item xs={6}>\r\n\t\t\t\t\t\t\t\t\t<Grid container>\r\n\t\t\t\t\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\tproduct &&\r\n\t\t\t\t\t\t\t\t\t\t\t\tproduct.specification &&\r\n\t\t\t\t\t\t\t\t\t\t\t\tproduct.specification.map((s, i) => (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Grid container spacing={1} key={i}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Grid item>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Typography>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t'• ' + s.key + ': '\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Grid item>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Typography style={{fontWeight: \"bold\"}}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ts.val\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t\t\t\t))\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n                    </Grid>\r\n                    <Grid item xs={12} className={st.description} >\r\n\t                    <Typography>\r\n\t\t                    {\r\n\t\t\t                    product.description\r\n\t\t                    }\r\n\t                    </Typography>\r\n                    </Grid>\r\n                  </Grid>\r\n\t\t\t\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t\t\t\t<Grid item xs={6}>\r\n\t\t\t\t\t\t\t\t\t<Grid container justify=\"center\">\r\n                    <Grid item xs={12}>\r\n\t                    <Typography align=\"center\" variant=\"h6\" color=\"secondary\">\r\n\t\t                    {\r\n\t\t\t                    (product.price / 100).toFixed(2) + \" zł\"\r\n\t\t                    }\r\n\t                    </Typography>\r\n                    </Grid>\r\n\t\t\t\t\t\t\t\t\t\t<Grid className={st.quantity} style={{cursor: \"pointer\"}} onClick={() => quantity > 1 && setQuantity(quantity - 1)}>\r\n                        <RemoveIcon />\r\n\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t\t<Grid className={st.quantity}>\r\n                        <Typography variant=\"h6\">{quantity}</Typography>\r\n\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t\t<Grid className={st.quantity} style={{cursor: \"pointer\"}} onClick={() => quantity !== amountAvailable && setQuantity(quantity + 1)}>\r\n                        <AddIcon />\r\n\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t\t<Grid item xs={12} />\r\n\t\t\t\t\t\t\t\t\t\t<Grid item xs={8} className={st.quantity}>\r\n\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\tproduct.amount &&\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t'Dostępna ilość: ' + amountAvailable\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t\t<Grid item xs={12} className={st.quantity}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<ProductAddToCart dis={amountAvailable === 0} add={() => addToCart(product)} />\r\n\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</Paper>\r\n\t\t\t</Grid>\r\n\t\t</ThemeProvider>\r\n\t)\r\n});","import {IReactComponent} from \"mobx-react/dist/types/IReactComponent\";\r\nimport {observer} from \"mobx-react\";\r\nimport {theme} from \"../../App\";\r\nimport {Container, Grid, Paper, ThemeProvider} from \"@material-ui/core\";\r\nimport {ItemForm} from \"../../components/Admin/ItemForm\";\r\nimport {adminItemStyles, Model} from \"../Admin/AdminItem\";\r\nimport React, {useEffect, useState} from \"react\";\r\nimport {ItemSubmit} from \"../../components/Admin/ItemSubmit\";\r\nimport {createUser, getUser, modifyUser} from \"../../services/userService\";\r\nimport {useHistory, useParams} from \"react-router-dom\";\r\nimport {useRootStore} from \"../../context/context\";\r\n\r\nexport const UserDetailsView: IReactComponent = observer(() => {\r\n\tconst [values, setValues] = useState({deliveryDetails: {\r\n\t\tname: \"\", lastName: \"\",\r\n\t\taddress: {\r\n\t\t\tcity: \"\", country: \"\", number: \"\", postcode: \"\", street: \"\"\r\n\t\t}\r\n\t}})\r\n\tconst [open, setOpen] = React.useState(false);\r\n\r\n\tconst classes = adminItemStyles();\r\n\tconst store = useRootStore();\r\n\tconst history = useHistory();\r\n\r\n\tlet { id } = useParams<{id: string}>();\r\n\r\n\tconst m: Model = {\r\n\t\tcreate: [],\r\n\t\tmodify: [\r\n\t\t\t{\r\n\t\t\t\tgroupName: \"Adres dostawy\",\r\n\t\t\t\txs: 4,\r\n\t\t\t\titems: [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tlabel: \"Imię\",\r\n\t\t\t\t\t\tvalue: values.deliveryDetails.name,\r\n\t\t\t\t\t\tsetValue: (v: React.ChangeEvent<HTMLInputElement>) => setValues({\r\n\t\t\t\t\t\t\t...values,\r\n\t\t\t\t\t\t\t'deliveryDetails': {...values.deliveryDetails, name: v.target.value}\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tlabel: \"Nazwisko\",\r\n\t\t\t\t\t\tvalue: values.deliveryDetails.lastName,\r\n\t\t\t\t\t\tsetValue: (v: React.ChangeEvent<HTMLInputElement>) => setValues({\r\n\t\t\t\t\t\t\t...values,\r\n\t\t\t\t\t\t\t'deliveryDetails': {...values.deliveryDetails, lastName: v.target.value}\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tlabel: \"Państwo\",\r\n\t\t\t\t\t\tvalue: values.deliveryDetails.address.country,\r\n\t\t\t\t\t\tsetValue: (v: React.ChangeEvent<HTMLInputElement>) => setValues({\r\n\t\t\t\t\t\t\t...values,\r\n\t\t\t\t\t\t\t'deliveryDetails': {\r\n\t\t\t\t\t\t\t\t...values.deliveryDetails,\r\n\t\t\t\t\t\t\t\taddress: {\r\n\t\t\t\t\t\t\t\t\t...values.deliveryDetails.address,\r\n\t\t\t\t\t\t\t\t\tcountry: v.target.value\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tlabel: \"Kod pocztowy\",\r\n\t\t\t\t\t\tvalue: values.deliveryDetails.address.postcode,\r\n\t\t\t\t\t\tsetValue: (v: React.ChangeEvent<HTMLInputElement>) => setValues({\r\n\t\t\t\t\t\t\t...values,\r\n\t\t\t\t\t\t\t'deliveryDetails': {\r\n\t\t\t\t\t\t\t\t...values.deliveryDetails,\r\n\t\t\t\t\t\t\t\taddress: {\r\n\t\t\t\t\t\t\t\t\t...values.deliveryDetails.address,\r\n\t\t\t\t\t\t\t\t\tpostcode: v.target.value\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tlabel: \"Miasto\",\r\n\t\t\t\t\t\tvalue: values.deliveryDetails.address.city,\r\n\t\t\t\t\t\tsetValue: (v: React.ChangeEvent<HTMLInputElement>) => setValues({\r\n\t\t\t\t\t\t\t...values,\r\n\t\t\t\t\t\t\t'deliveryDetails': {\r\n\t\t\t\t\t\t\t\t...values.deliveryDetails,\r\n\t\t\t\t\t\t\t\taddress: {\r\n\t\t\t\t\t\t\t\t\t...values.deliveryDetails.address,\r\n\t\t\t\t\t\t\t\t\tcity: v.target.value\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tlabel: \"Ulica\",\r\n\t\t\t\t\t\tvalue: values.deliveryDetails.address.street,\r\n\t\t\t\t\t\tsetValue: (v: React.ChangeEvent<HTMLInputElement>) => setValues({\r\n\t\t\t\t\t\t\t...values,\r\n\t\t\t\t\t\t\t'deliveryDetails': {\r\n\t\t\t\t\t\t\t\t...values.deliveryDetails,\r\n\t\t\t\t\t\t\t\taddress: {\r\n\t\t\t\t\t\t\t\t\t...values.deliveryDetails.address,\r\n\t\t\t\t\t\t\t\t\tstreet: v.target.value\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tlabel: \"Numer domu/mieszkania (np.: 24/6)\",\r\n\t\t\t\t\t\tvalue: values.deliveryDetails.address.number,\r\n\t\t\t\t\t\tsetValue: (v: React.ChangeEvent<HTMLInputElement>) => setValues({\r\n\t\t\t\t\t\t\t...values,\r\n\t\t\t\t\t\t\t'deliveryDetails': {\r\n\t\t\t\t\t\t\t\t...values.deliveryDetails,\r\n\t\t\t\t\t\t\t\taddress: {\r\n\t\t\t\t\t\t\t\t\t...values.deliveryDetails.address,\r\n\t\t\t\t\t\t\t\t\tnumber: v.target.value\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t},\r\n\t\t\t\t]\r\n\t\t\t}\r\n\t\t]\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tgetUser(id).then(r => {\r\n\t\t\tsetValues({\r\n\t\t\t\t...values,\r\n\t\t\t\tdeliveryDetails: r.deliverDetails ? r.deliverDetails : values.deliveryDetails\r\n\t\t\t})\r\n\t\t})\r\n\t}, [])\r\n\r\n\tconst onSubmit = () => {\r\n\t\tmodifyUser(id, {\r\n\t\t\tcompanyID: store.user.user && store.user.user.company ? store.user.user?.company.id : undefined,\r\n\t\t\tdeliveryDetails: values.deliveryDetails,\r\n\t\t\tpermission: store.user.user?.permission as 'user' | 'admin'\r\n\t\t}).then(r => history.goBack());\r\n\t}\r\n\r\n\treturn (\r\n\t\t<ThemeProvider theme={theme}>\r\n\t\t\t<Container>\r\n\t\t\t\t<Grid container spacing={3} className={classes.g}>\r\n\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t<Paper className={classes.paper}>\r\n\t\t\t\t\t\t\t<Grid container>\r\n\t\t\t\t\t\t\t\t<ItemForm operation=\"modifying\" model={m} />\r\n\t\t\t\t\t\t\t\t<ItemSubmit submit={onSubmit} />\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t</Paper>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</Grid>\r\n\t\t\t</Container>\r\n\t\t</ThemeProvider>\r\n\t)\r\n});","import {IReactComponent} from \"mobx-react/dist/types/IReactComponent\";\r\nimport {observer} from \"mobx-react\";\r\nimport {theme} from \"../../App\";\r\nimport {Container, Grid, Paper, ThemeProvider} from \"@material-ui/core\";\r\nimport {ItemForm} from \"../../components/Admin/ItemForm\";\r\nimport {ItemSubmit} from \"../../components/Admin/ItemSubmit\";\r\nimport React, {useEffect, useState} from \"react\";\r\nimport {adminItemStyles, Model} from \"../Admin/AdminItem\";\r\nimport {useHistory} from \"react-router-dom\";\r\nimport {getUser} from \"../../services/userService\";\r\nimport {useRootStore} from \"../../context/context\";\r\n\r\nexport const OrderDelivery: IReactComponent = observer(() => {\r\n\tconst [values, setValues] = useState({deliveryDetails: {\r\n\t\t\tname: \"\", lastName: \"\",\r\n\t\t\taddress: {\r\n\t\t\t\tcity: \"\", country: \"\", number: \"\", postcode: \"\", street: \"\"\r\n\t\t\t}\r\n\t\t}})\r\n\tconst store = useRootStore();\r\n\tconst classes = adminItemStyles();\r\n\tconst history = useHistory();\r\n\r\n\tconst m: Model = {\r\n\t\tcreate: [],\r\n\t\tmodify: [\r\n\t\t\t{\r\n\t\t\t\tgroupName: \"Adres dostawy\",\r\n\t\t\t\txs: 4,\r\n\t\t\t\titems: [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tlabel: \"Imię\",\r\n\t\t\t\t\t\tvalue: values.deliveryDetails.name,\r\n\t\t\t\t\t\tsetValue: (v: React.ChangeEvent<HTMLInputElement>) => setValues({\r\n\t\t\t\t\t\t\t...values,\r\n\t\t\t\t\t\t\t'deliveryDetails': {...values.deliveryDetails, name: v.target.value}\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tlabel: \"Nazwisko\",\r\n\t\t\t\t\t\tvalue: values.deliveryDetails.lastName,\r\n\t\t\t\t\t\tsetValue: (v: React.ChangeEvent<HTMLInputElement>) => setValues({\r\n\t\t\t\t\t\t\t...values,\r\n\t\t\t\t\t\t\t'deliveryDetails': {...values.deliveryDetails, lastName: v.target.value}\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tlabel: \"Państwo\",\r\n\t\t\t\t\t\tvalue: values.deliveryDetails.address.country,\r\n\t\t\t\t\t\tsetValue: (v: React.ChangeEvent<HTMLInputElement>) => setValues({\r\n\t\t\t\t\t\t\t...values,\r\n\t\t\t\t\t\t\t'deliveryDetails': {\r\n\t\t\t\t\t\t\t\t...values.deliveryDetails,\r\n\t\t\t\t\t\t\t\taddress: {\r\n\t\t\t\t\t\t\t\t\t...values.deliveryDetails.address,\r\n\t\t\t\t\t\t\t\t\tcountry: v.target.value\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tlabel: \"Kod pocztowy\",\r\n\t\t\t\t\t\tvalue: values.deliveryDetails.address.postcode,\r\n\t\t\t\t\t\tsetValue: (v: React.ChangeEvent<HTMLInputElement>) => setValues({\r\n\t\t\t\t\t\t\t...values,\r\n\t\t\t\t\t\t\t'deliveryDetails': {\r\n\t\t\t\t\t\t\t\t...values.deliveryDetails,\r\n\t\t\t\t\t\t\t\taddress: {\r\n\t\t\t\t\t\t\t\t\t...values.deliveryDetails.address,\r\n\t\t\t\t\t\t\t\t\tpostcode: v.target.value\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tlabel: \"Miasto\",\r\n\t\t\t\t\t\tvalue: values.deliveryDetails.address.city,\r\n\t\t\t\t\t\tsetValue: (v: React.ChangeEvent<HTMLInputElement>) => setValues({\r\n\t\t\t\t\t\t\t...values,\r\n\t\t\t\t\t\t\t'deliveryDetails': {\r\n\t\t\t\t\t\t\t\t...values.deliveryDetails,\r\n\t\t\t\t\t\t\t\taddress: {\r\n\t\t\t\t\t\t\t\t\t...values.deliveryDetails.address,\r\n\t\t\t\t\t\t\t\t\tcity: v.target.value\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tlabel: \"Ulica\",\r\n\t\t\t\t\t\tvalue: values.deliveryDetails.address.street,\r\n\t\t\t\t\t\tsetValue: (v: React.ChangeEvent<HTMLInputElement>) => setValues({\r\n\t\t\t\t\t\t\t...values,\r\n\t\t\t\t\t\t\t'deliveryDetails': {\r\n\t\t\t\t\t\t\t\t...values.deliveryDetails,\r\n\t\t\t\t\t\t\t\taddress: {\r\n\t\t\t\t\t\t\t\t\t...values.deliveryDetails.address,\r\n\t\t\t\t\t\t\t\t\tstreet: v.target.value\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tlabel: \"Numer domu/mieszkania (np.: 24/6)\",\r\n\t\t\t\t\t\tvalue: values.deliveryDetails.address.number,\r\n\t\t\t\t\t\tsetValue: (v: React.ChangeEvent<HTMLInputElement>) => setValues({\r\n\t\t\t\t\t\t\t...values,\r\n\t\t\t\t\t\t\t'deliveryDetails': {\r\n\t\t\t\t\t\t\t\t...values.deliveryDetails,\r\n\t\t\t\t\t\t\t\taddress: {\r\n\t\t\t\t\t\t\t\t\t...values.deliveryDetails.address,\r\n\t\t\t\t\t\t\t\t\tnumber: v.target.value\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t},\r\n\t\t\t\t]\r\n\t\t\t}\r\n\t\t]\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tconst id = store.user.user && store.user.user.id;\r\n\t\tif(!id) return;\r\n\t\tif(store.cart.deliveryDetails) {\r\n\t\t\tsetValues({\r\n\t\t\t\t...values,\r\n\t\t\t\tdeliveryDetails: store.cart.deliveryDetails\r\n\t\t\t})\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tgetUser(id).then(r => {\r\n\t\t\tsetValues({\r\n\t\t\t\t...values,\r\n\t\t\t\tdeliveryDetails: r.deliverDetails ? r.deliverDetails : values.deliveryDetails\r\n\t\t\t})\r\n\t\t})\r\n\t}, [])\r\n\r\n\tconst onSubmit = () => {\r\n\t\tstore.cart.setDelivery(values.deliveryDetails);\r\n\t\thistory.push('/order/summary');\r\n\t}\r\n\r\n\r\n\treturn (\r\n\t\t<ThemeProvider theme={theme}>\r\n\t\t\t<Container>\r\n\t\t\t\t<Grid container spacing={3} className={classes.g}>\r\n\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t<Paper className={classes.paper}>\r\n\t\t\t\t\t\t\t<Grid container>\r\n\t\t\t\t\t\t\t\t<ItemForm operation=\"modifying\" model={m} />\r\n\t\t\t\t\t\t\t\t<ItemSubmit submit={onSubmit} />\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t</Paper>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</Grid>\r\n\t\t\t</Container>\r\n\t\t</ThemeProvider>\r\n\t)\r\n});","import {IReactComponent} from \"mobx-react/dist/types/IReactComponent\";\r\nimport {observer} from \"mobx-react\";\r\nimport {theme} from \"../App\";\r\nimport {Button, IconButton, Snackbar, ThemeProvider} from \"@material-ui/core\";\r\nimport {useRootStore} from \"../context/context\";\r\nimport React, {useState} from \"react\";\r\nimport MuiAlert, { AlertProps } from '@material-ui/lab/Alert';\r\n\r\nfunction Alert(props: AlertProps) {\r\n\treturn <MuiAlert elevation={6} variant=\"filled\" {...props} />;\r\n}\r\n\r\nexport const Snackbars: IReactComponent = observer(() => {\r\n\tconst store = useRootStore();\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t{\r\n\t\t\t\tstore.snackbarMessages.map((s, i) => (\r\n\t\t\t\t\t<Snackbar\r\n\t\t\t\t\t\tanchorOrigin={{\r\n\t\t\t\t\t\t\tvertical: 'bottom',\r\n\t\t\t\t\t\t\thorizontal: 'left',\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tautoHideDuration={1000}\r\n\t\t\t\t\t\tmessage={s.message}\r\n\t\t\t\t\t\topen={true}\r\n\t\t\t\t\t\tkey={i}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Alert severity=\"error\">\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\ts.message\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t</Alert>\r\n\t\t\t\t\t</Snackbar>\r\n\t\t\t\t))\r\n\t\t\t}\r\n\t\t</div>\r\n\t);\r\n});","import {IReactComponent} from \"mobx-react/dist/types/IReactComponent\";\r\nimport {observer} from \"mobx-react\";\r\nimport {theme} from \"../../App\";\r\nimport {createStyles, Grid, makeStyles, Paper, Theme, ThemeProvider, Typography} from \"@material-ui/core\";\r\nimport {Link, useParams} from \"react-router-dom\";\r\nimport React, {useEffect, useState} from \"react\";\r\nimport {useStyles} from \"../Admin/AdminList\";\r\nimport {getUserOrders, OrderType} from \"../../services/orderService\";\r\nimport * as translation from \"../../translation.json\";\r\n\r\nconst orderListStyles = makeStyles((theme: Theme) =>\r\n\tcreateStyles({\r\n\t\titem: {\r\n\t\t\tcursor: \"pointer\",\r\n\t\t\tcolor: theme.palette.primary.light,\r\n\t\t\tfontSize: \"1.2rem\",\r\n\t\t\ttextDecoration: \"underline\"\r\n\t\t}\r\n\t})\r\n)\r\n\r\nexport const UserOrdersView: IReactComponent = observer(() => {\r\n\tconst [orders, setOrders] = useState<OrderType[]>([]);\r\n\tconst classes = useStyles();\r\n\tconst lClasses = orderListStyles();\r\n\r\n\tlet { id } = useParams<{id: string}>();\r\n\r\n\tconst translate = (toTranslate: string): string => {\r\n\t\tif(toTranslate in translation.primary) {\r\n\t\t\t// @ts-ignore\r\n\t\t\treturn translation.primary[toTranslate];\r\n\t\t} else {\r\n\t\t\treturn toTranslate\r\n\t\t}\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tif(id) {\r\n\t\t\tgetUserOrders(id).then(os => {\r\n\t\t\t\tsetOrders(os);\r\n\t\t\t})\r\n\t\t}\r\n\t}, [])\r\n\r\n\treturn (\r\n\t\t<ThemeProvider theme={theme}>\r\n\t\t\t{\r\n\t\t\t\torders.map((el, i) => (\r\n\t\t\t\t\t<Grid item xs={12} key={i}>\r\n\t\t\t\t\t\t<Paper className={classes.paper}>\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t<Link to={`/order/summary/${el.id}`}>\r\n\t\t\t\t\t\t\t\t\t<Typography className={lClasses.item}>{el.id}</Typography>\r\n\t\t\t\t\t\t\t\t\t<Typography>({translate(el.status[el.status.length - 1].status)})</Typography>\r\n\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t</Paper>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t))\r\n\t\t\t}\r\n\t\t</ThemeProvider>\r\n\t)\r\n});","import { observer, Observer } from 'mobx-react';\r\nimport React, {useEffect} from 'react';\r\nimport './App.css';\r\nimport { TopBar } from './components/Header/TopBar';\r\nimport { createMuiTheme, ThemeProvider } from '@material-ui/core/styles';\r\nimport { BrowserRouter as Router, Route, Switch } from 'react-router-dom';\r\nimport { LoginView } from './views/Login/LoginView';\r\nimport { AdminView } from './views/Admin/AdminView';\r\nimport { AccountCreation } from './views/Register/AccountCreation';\r\nimport { useRootStore } from './context/context';\r\nimport { RootStore } from './stores/RootStore';\r\nimport { AdminList } from './views/Admin/AdminList';\r\nimport { AdminItem } from './views/Admin/AdminItem';\r\nimport {IndexView} from \"./views/Index/IndexView\";\r\nimport {CartView} from \"./views/Cart/CartView\";\r\nimport {ProductView} from \"./views/Product/ProductView\";\r\nimport {UserDetailsView} from \"./views/User/UserDetailsView\";\r\nimport {OrderDelivery} from \"./views/Order/OrderDelivery\";\r\nimport {Snackbars} from \"./components/Snackbars\";\r\nimport {Delivery, User} from \"./services/userService\";\r\nimport {ProductQuantity} from \"./services/productService\";\r\nimport {OrderSummary} from \"./views/Order/OrderSummary\";\r\nimport {UserOrdersView} from \"./views/User/UserOrdersView\";\r\n\r\nexport interface props {\r\n\tstore: RootStore\r\n}\r\n\r\nexport const theme = createMuiTheme({\r\n\tpalette: {\r\n\t  primary: {\r\n\t\tmain: '#80d8ff',\r\n\t  },\r\n\t  secondary: {\r\n\t\tmain: '#82b1ff',\r\n\t  },\r\n\t  text: {\r\n\t\t  primary: \"#171717\",\r\n\t\t  secondary: '#000000'\r\n\t  }\t\r\n\t},\r\n});\r\n\r\nconst App = observer(() => {\r\n\tconst store = useRootStore();\r\n\r\n\tuseEffect(() => {\r\n\t\tlet u = localStorage.getItem('user');\r\n\r\n\t\tif(u) {\r\n\t\t\tconst user = JSON.parse(u) as User;\r\n\r\n\t\t\tif(user.id) {\r\n\t\t\t\tstore.user.setUser(user);\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tlet c = localStorage.getItem('cart');\r\n\r\n\t\tif(c) {\r\n\t\t\tconst cart = JSON.parse(c) as ProductQuantity[];\r\n\r\n\t\t\tif(cart.length > 0) {\r\n\t\t\t\tcart.forEach(item => {\r\n\t\t\t\t\tstore.cart.addToCart(item);\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tlet d = localStorage.getItem('delivery');\r\n\r\n\t\tif(d) {\r\n\t\t\tconst delivery = JSON.parse(d) as Delivery;\r\n\r\n\t\t\tstore.cart.setDelivery(delivery);\r\n\t\t}\r\n\r\n\t}, [])\r\n\r\n\treturn (\r\n\t\t<Router>\r\n\t\t\t<ThemeProvider theme={theme}>\r\n\t\t\t\t<Switch>\r\n\t\t\t\t\t<Route path=\"/login\">\r\n\t\t\t\t\t\t<LoginView store={useRootStore()} />\r\n\t\t\t\t\t</Route>\r\n\t\t\t\t\t<Route path=\"/register\">\r\n\t\t\t\t\t\t<AccountCreation />\r\n\t\t\t\t\t</Route>\r\n\t\t\t\t\t<Route path=\"/\">\r\n\t\t\t\t\t\t<div className=\"App\">\r\n\t\t\t\t\t\t\t<TopBar store={useRootStore()} />\r\n\t\t\t\t\t\t\t<Switch>\r\n\t\t\t\t\t\t\t\t<Route path=\"/admin/:adminType/*\">\r\n\t\t\t\t\t\t\t\t\t<AdminItem />\r\n\t\t\t\t\t\t\t\t</Route>\r\n\t\t\t\t\t\t\t\t<Route path=\"/admin/*\">\r\n\t\t\t\t\t\t\t\t\t<AdminList />\r\n\t\t\t\t\t\t\t\t</Route>\r\n\t\t\t\t\t\t\t\t<Route path=\"/admin\">\r\n\t\t\t\t\t\t\t\t\t<AdminView />\r\n\t\t\t\t\t\t\t\t</Route>\r\n\t\t\t\t\t\t\t\t<Route path=\"/cart\">\r\n\t\t\t\t\t\t\t\t\t<CartView />\r\n\t\t\t\t\t\t\t\t</Route>\r\n\t\t\t\t\t\t\t\t<Route path=\"/order/delivery\">\r\n\t\t\t\t\t\t\t\t\t<OrderDelivery />\r\n\t\t\t\t\t\t\t\t</Route>\r\n\t\t\t\t\t\t\t\t<Route path=\"/order/summary/:id\">\r\n\t\t\t\t\t\t\t\t\t<OrderSummary />\r\n\t\t\t\t\t\t\t\t</Route>\r\n\t\t\t\t\t\t\t\t<Route path=\"/order/summary\">\r\n\t\t\t\t\t\t\t\t\t<OrderSummary />\r\n\t\t\t\t\t\t\t\t</Route>\r\n\t\t\t\t\t\t\t\t<Route path=\"/user/:id/orders\">\r\n\t\t\t\t\t\t\t\t\t<UserOrdersView />\r\n\t\t\t\t\t\t\t\t</Route>\r\n\t\t\t\t\t\t\t\t<Route path=\"/user/:id\">\r\n\t\t\t\t\t\t\t\t\t<UserDetailsView />\r\n\t\t\t\t\t\t\t\t</Route>\r\n\t\t\t\t\t\t\t\t<Route path=\"/product/:productID\">\r\n\t\t\t\t\t\t\t\t\t<ProductView />\r\n\t\t\t\t\t\t\t\t</Route>\r\n\t\t\t\t\t\t\t\t<Route path=\"/:category\">\r\n\t\t\t\t\t\t\t\t\t<IndexView />\r\n\t\t\t\t\t\t\t\t</Route>\r\n\t\t\t\t\t\t\t\t<Route path=\"\">\r\n\t\t\t\t\t\t\t\t\t<IndexView />\r\n\t\t\t\t\t\t\t\t</Route>\r\n\t\t\t\t\t\t\t</Switch>\r\n\t\t\t\t\t\t\t<Snackbars />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</Route>\r\n\t\t\t\t</Switch>\r\n\t\t\t</ThemeProvider>\r\n\t\t</Router>\r\n\t);\r\n})\r\n\r\nexport default App;\r\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport { StateProvider } from './context/context';\nimport { BrowserRouter } from \"react-router-dom\";\n\nReactDOM.render(\n    <StateProvider>\n      <BrowserRouter>\n        <App />\n      </BrowserRouter>\n    </StateProvider>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}